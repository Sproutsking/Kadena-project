<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KAN - Future of Blockchain</title>

  <link rel="stylesheet" href="kan-wallet.css">
  <style>
    /* Import Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');

/* CSS Variables */
:root {
  --primary: #ff0080;
  --secondary: #7928ca;
  --accent: #00ff88;
  --bg: #000000;
  --surface: rgba(255, 255, 255, 0.04);
  --border: rgba(255, 255, 255, 0.08);
  --text: #ffffff;
  --text-dim: #888888;
  --success: #00ff88;
  --warning: #ffaa00;
  --error: #ff4444;
  --primary-gradient: linear-gradient(135deg, #ff0080, #7928ca, #ff0080);
  --secondary-gradient: linear-gradient(135deg, #1a1a2e, #16213e, #0f0f23);
  --bg-primary: #0a0a0a;
  --bg-secondary: rgba(255, 255, 255, 0.03);
  --bg-card: rgba(255, 255, 255, 0.05);
  --border-color: rgba(255, 255, 255, 0.1);
  --button-gradient: linear-gradient(135deg, #050208 10%, #df02af 70%, purple 20%);
  --glow-pink: #ff0080;
}

/* Reset and Base Styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  overflow-x: hidden;
}

body {
  font-family: 'Inter', sans-serif;
  color: var(--text);
  line-height: 1.6;
  overflow-x: hidden;
  background: var(--bg);
  background: radial-gradient(circle at 20% 80%, rgba(131, 56, 236, 0.1) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(255, 0, 118, 0.1) 0%, transparent 50%);
  position: relative;
  -webkit-tap-highlight-color: transparent;
  height: 100vh;
}

/* Custom Scrollbar - Hidden on mobile */
*::-webkit-scrollbar {
  width: 0px;
  height: 0px;
}

*::-webkit-scrollbar-track {
  background: transparent;
}

*::-webkit-scrollbar-thumb {
  background: transparent;
}

/* Show scrollbar only on desktop */
@media (min-width: 768px) {
  *::-webkit-scrollbar {
    width: 4px;
    height: 4px;
  }

  *::-webkit-scrollbar-track {
    background: var(--bg-secondary);
    border-radius: 12px;
  }

  *::-webkit-scrollbar-thumb {
    background: var(--primary-gradient);
    border-radius: 12px;
  }

  *::-webkit-scrollbar-thumb:hover {
    background: var(--secondary);
  }
}

/* Particle Background */
.background-particles {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: -1;
}

.particle {
  position: absolute;
  width: 2px;
  height: 2px;
  background: var(--accent);
  border-radius: 50%;
  opacity: 0.3;
  animation: float 6s ease-in-out infinite;
}

@keyframes float {
  0%, 100% { transform: translateY(0) rotate(0deg); opacity: 0.3; }
  50% { transform: translateY(-20px) rotate(180deg); opacity: 0.8; }
}

/* Glassmorphism Effect */
.glass {
  background: var(--bg-card);
  backdrop-filter: blur(10px);
  border: 1px solid var(--border-color);
  border-radius: 12px;
}

/* Animations */
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideIn {
  from { opacity: 0; transform: translateX(-10px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes holographic {
  0% { filter: hue-rotate(0deg); }
  100% { filter: hue-rotate(360deg); }
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Sidebar */
.sidebar {
  position: fixed;
  top: 0;
  left: 0;
  width: 280px;
  height: 100vh;
  background: var(--bg-primary);
  backdrop-filter: blur(20px);
  border-right: 1px solid var(--border-color);
  padding: 12px;
  padding-top: 20px;
  padding-bottom: 40px;
  transform: translateX(-100%);
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: 1000;
  display: flex;
  flex-direction: column;
  overflow-y: auto;
  overflow-x: hidden;
}

.sidebar.active {
  transform: translateX(0);
}

.user-profile {
  padding: 12px 8px;
  background: var(--bg-card);
  border-radius: 12px;
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 10px;
}

.user-profile .avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: var(--primary-gradient);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-weight: 600;
  font-size: 0.9rem;
}

.user-profile .wallet-address {
  font-size: 9px;
  color: var(--text-dim);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 120px;
}

.nav-menu {
  display: flex;
  flex-direction: column;
  list-style: none;
  gap: 4px;
  flex: 1;
  margin-top: 20px
}

.nav-link {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 10px;
  color: var(--text-dim);
  text-decoration: none;
  border-radius: 8px;
  transition: all 0.2s ease;
  font-weight: 500;
  font-size: 13px;
  background: var(--surface);
  border: 1px solid var(--border);
}

.nav-link:hover,
.nav-link.active {
  color: var(--text);
  background: var(--primary-gradient);
  transform: translateX(3px);
}

.nav-icon {
  font-size: 0.9rem;
  width: 18px;
  text-align: center;
}

.sidebar-mini-market {
  padding: 8px;
  background: var(--bg-card);
  border-radius: 8px;
  border: 1px solid var(--border-color);
  margin-top: 8px;
}

.sidebar-mini-market h4 {
  font-size: 11px;
  font-weight: 600;
  margin-bottom: 6px;
  color: var(--text);
  text-transform: uppercase;
}

.mini-market-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 5px 0;
  font-size: 9px;
  color: var(--text-dim);
  border-bottom: 1px solid var(--border-color);
}

.mini-market-item:last-child {
  border-bottom: none;
}

.mini-market-item span:first-child {
  font-weight: 600;
  color: var(--text);
}

.positive {
  color: var(--success);
}

.negative {
  color: var(--error);
}

/* Main Content */
.main-content {
  margin-left: 0;
  min-height: 100vh;
  background: var(--bg-primary);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  padding: 0;
  position: relative;
  overflow-x: hidden;
}

/* Section Header */
.section-header {
  position: sticky;
  top: 0;
  z-index: 10;
  background: var(--bg-primary);
  border-bottom: 1px solid var(--border-color);
  padding: 8px 12px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  height: 48px;
}

.section-title {
  font-size: 16px;
  font-weight: 700;
  background: var(--primary-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.mobile-menu-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  background: var(--primary-gradient);
  border: none;
  border-radius: 8px;
  color: var(--text);
  font-size: 1rem;
  cursor: pointer;
  box-shadow: 0 2px 8px rgba(255, 0, 128, 0.3);
}

/* General Section Styling */
.section {
  display: none;
  animation: fadeInUp 0.5s ease;
  background: var(--bg-primary);
  height: calc(100vh - 48px);
  overflow-y: auto;
  overflow-x: hidden;
}

.section.active {
  display: block;
}

.container {
  padding: 8px;
  max-width: 100%;
  background: transparent;
}

/* Dashboard Section */
.stats-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 6px;
  margin-bottom: 8px;
}

  .balance-grid {
  background: black;
  border-radius: 8px;
  padding: 14px;
  gap: 8px;
  display: flex;
  flex-direction: column;
  margin-bottom: 10px;
  position: relative;
  overflow: hidden;
  transition: all 0.2s ease;
  min-height: 55px;
  border: 1px solid var(--border);
}
.stat-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 8px;
  position: relative;
  overflow: hidden;
  transition: all 0.2s ease;
  min-height: 55px;
}

.stat-card:hover {
  background: rgba(255, 255, 255, 0.06);
  transform: translateY(-1px);
}

.stat-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: var(--primary-gradient);
  opacity: 0;
  transition: opacity 0.2s ease;
}

.stat-card:hover::before {
  opacity: 1;
}

.stat-value {
  font-size: 14px;
  font-weight: 800;
  background: var(--primary-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  line-height: 1.1;
  margin-bottom: 2px;
}

.stat-label {
  font-size: 9px;
  color: var(--text-dim);
  text-transform: uppercase;
  letter-spacing: 0.3px;
}

.stat-change {
  position: absolute;
  top: 4px;
  right: 6px;
  font-size: 8px;
  padding: 2px 4px;
  border-radius: 3px;
  font-weight: 600;
}

.stat-change.positive {
  background: rgba(0, 255, 136, 0.2);
  color: var(--success);
}

.stat-change.negative {
  background: rgba(255, 68, 68, 0.2);
  color: var(--error);
}

.chart-section {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 8px;
  margin-bottom: 8px;
}

.chart-header {
  color: var(--primary);
  font-size: 12px;
  font-weight: 700;
  margin-bottom: 6px;
}

.chart-container {
  height: 150px;
  margin: 6px 0;
}
.deposit-btn-div .deposit-btn {
  width: 100px;
  backround: gold;
  margin-bottom: 10px;
}
.action-buttons {
  display: flex;
  gap: 4px;
  padding: 8px;
  margin: 8px;
}

.btn {
  flex: 1;
  background: var(--primary-gradient);
  border: none;
  padding: 6px;
  border-radius: 6px;
  color: var(--text);
  font-weight: 600;
  font-size: 9px;
  cursor: pointer;
  transition: all 0.2s ease;
  text-transform: uppercase;
  letter-spacing: 0.3px;
}

.btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(255, 0, 128, 0.3);
}

.btn.secondary {
  background: transparent;
  border: 2px solid var(--primary);
  color: var(--primary);
}

.features {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 8px;
  margin-bottom: 8px;
  position: relative;
  overflow: hidden;
}

.features::before {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background: var(--primary-gradient);
  z-index: -1;
  filter: blur(1px);
  opacity: 0.3;
}

.features h3 {
  color: var(--primary);
  font-size: 12px;
  font-weight: 700;
  margin-bottom: 6px;
}

.feature-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 4px;
}

.feature-item {
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid var(--border);
  border-radius: 6px;
  padding: 6px;
  text-align: center;
}

.feature-icon {
  font-size: 16px;
  margin-bottom: 3px;
}

.feature-item h4 {
  font-size: 10px;
  font-weight: 600;
  margin-bottom: 2px;
}

.feature-item p {
  font-size: 8px;
  color: var(--text-dim);
  line-height: 1.2;
}

/* Network Grid */
.network-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 6px;
}

.network-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 8px;
}

.network-card h4 {
  color: var(--accent);
  font-size: 11px;
  font-weight: 600;
  margin-bottom: 4px;
}

.metric-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 3px 0;
  border-bottom: 1px solid var(--border);
}

.metric-row:last-child {
  border-bottom: none;
}

.metric-label,
.metric-value {
  font-size: 9px;
  color: var(--text-dim);
}

.metric-value {
  color: var(--text);
  font-weight: 600;
}

.mini-chart {
  height: 35px;
  margin: 4px 0 0 0;
}

/* Social Section */
.social-subnav {
  display: flex;
  gap: 3px;
  padding: 4px 8px;
  background: var(--bg-primary);
  border-bottom: 1px solid var(--border-color);
  position: sticky;
  top: 48px;
  z-index: 10;
  overflow-x: auto;
}

.subnav-tab {
  flex: 1;
  background: var(--bg-card);
  padding: 6px 8px;
  border-radius: 12px;
  border: 1px solid var(--border-color);
  color: var(--text-dim);
  font-size: 10px;
  font-weight: 600;
  cursor: pointer;
  text-align: center;
  white-space: nowrap;
  transition: all 0.2s ease;
}

.subnav-tab.active,
.subnav-tab:hover {
  background: var(--primary-gradient);
  color: var(--text);
}

.social-layout {
  height: calc(100vh - 88px);
  display: flex;
  flex-direction: column;
  overflow-y: auto;
  padding: 6px;
}

.social-content {
  display: none;
}

.social-content.active {
  display: block;
  animation: fadeInUp 0.5s ease;
}

.post-composer {
  background: var(--surface);
  border-radius: 8px;
  padding: 8px;
  margin-bottom: 8px;
  border: 1px solid var(--border);
}

.composer-input {
  width: 100%;
  background: transparent;
  border: none;
  color: var(--text);
  font-size: 12px;
  resize: none;
  min-height: 40px;
  outline: none;
}

.composer-actions {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 6px;
}

.media-icons {
  display: flex;
  gap: 6px;
}

.media-icon {
  background: none;
  border: none;
  color: var(--primary);
  font-size: 0.9rem;
  cursor: pointer;
  padding: 3px;
  border-radius: 6px;
  transition: all 0.2s ease;
}

.media-icon:hover {
  background: var(--bg-secondary);
}

.feed {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.post {
  background: var(--surface);
  border-radius: 8px;
  padding: 8px;
  margin-bottom: 6px;
  border: 1px solid var(--border);
  transition: all 0.2s ease;
  cursor: pointer;
}

.post:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(255, 0, 128, 0.2);
}

.post-header {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-bottom: 6px;
}

.post-header h4 {
  font-size: 12px;
  font-weight: 600;
}

.post-time {
  color: var(--text-dim);
  font-size: 9px;
}

.post p {
  font-size: 11px;
  margin-bottom: 6px;
}

.post-actions {
  display: flex;
  gap: 10px;
  padding-top: 6px;
  border-top: 1px solid var(--border);
}

.action-btn {
  background: none;
  border: none;
  color: var(--text-dim);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 3px;
  font-size: 10px;
  transition: all 0.2s ease;
}

.action-btn:hover {
  color: var(--primary);
}

.action-btn.liked .icon {
  color: var(--error);
  animation: pulse 0.5s ease;
}

.action-btn .icon {
  font-size: 0.9rem;
}

.action-btn .count {
  font-weight: 600;
}

/* Stream Grid */
.stream-grid {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.stream-card {
  background: var(--surface);
  border-radius: 8px;
  padding: 8px;
  border: 1px solid var(--border);
}

.stream-placeholder {
  height: 100px;
  background: var(--bg-secondary);
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-dim);
  font-size: 10px;
  margin-bottom: 6px;
}

.stream-info h4 {
  font-size: 12px;
  font-weight: 600;
  margin-bottom: 3px;
}

.stream-host,
.stream-viewers {
  font-size: 9px;
  color: var(--text-dim);
}

.join-stream {
  margin-top: 6px;
  width: 100%;
}

/* Trending Section */
.trending-section {
  background: var(--surface);
  border-radius: 8px;
  padding: 8px;
  margin-bottom: 6px;
  border: 1px solid var(--border);
}

.trending-section h3 {
  font-size: 12px;
  color: var(--primary);
  margin-bottom: 6px;
}

.trending-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 6px 0;
  border-bottom: 1px solid var(--border);
}

.trending-item:last-child {
  border-bottom: none;
}

.trending-topic {
  color: var(--primary);
  font-weight: 600;
  font-size: 10px;
}

.trending-count {
  color: var(--text-dim);
  font-size: 9px;
}

.trending-sidebar {
  display: none;
  background: var(--surface);
  border-radius: 8px;
  padding: 8px;
  border: 1px solid var(--border);
  max-width: 280px;
}

.trending-sidebar h3 {
  font-size: 12px;
  color: var(--primary);
  margin-bottom: 6px;
}

/* Post Modal */
.post-modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.8);
  backdrop-filter: blur(10px);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 2000;
  padding: 8px;
}

.modal-content {
  background: var(--bg-primary);
  border-radius: 12px;
  width: 100%;
  max-width: 500px;
  max-height: 90vh;
  border: 1px solid var(--border);
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.modal-header {
  padding: 8px;
  border-bottom: 1px solid var(--border);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.modal-header h3 {
  font-size: 14px;
  font-weight: 700;
}

.close-btn {
  background: none;
  border: none;
  color: var(--text-dim);
  font-size: 1.2rem;
  cursor: pointer;
}

.close-btn:hover {
  color: var(--primary);
}

.modal-post-content {
  padding: 8px;
  overflow-y: auto;
}

.modal-post-content .post {
  cursor: default;
}

.modal-post-content .post:hover {
  transform: none;
  box-shadow: none;
}

.comments-section {
  padding: 8px;
  border-top: 1px solid var(--border);
}

.comments-section h4 {
  font-size: 12px;
  color: var(--primary);
  margin-bottom: 6px;
}

.comments-list {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-bottom: 8px;
}

.comment {
  background: var(--bg-secondary);
  border-radius: 8px;
  padding: 6px;
  display: flex;
  flex-direction: column;
  gap: 3px;
}

.comment-header {
  display: flex;
  align-items: center;
  gap: 6px;
}

.comment-header .avatar {
  width: 20px;
  height: 20px;
  font-size: 10px;
}

.comment-header h5 {
  font-size: 10px;
  font-weight: 600;
}

.comment-time {
  font-size: 8px;
  color: var(--text-dim);
}

.comment p {
  font-size: 10px;
}

.comment-actions {
  display: flex;
  gap: 6px;
  margin-top: 3px;
}

.comment-action-btn {
  background: none;
  border: none;
  color: var(--text-dim);
  font-size: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 3px;
}

.comment-action-btn:hover {
  color: var(--primary);
}

.comment-action-btn.liked .icon {
  color: var(--error);
}

.comment-action-btn .icon {
  font-size: 0.8rem;
}

.reply {
  margin-left: 16px;
  background: rgba(255, 255, 255, 0.02);
  border-left: 2px solid var(--primary);
}

.comment-input-container {
  display: flex;
  gap: 6px;
  align-items: center;
}

.comment-input {
  flex: 1;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  color: var(--text);
  padding: 6px;
  border-radius: 8px;
  font-size: 10px;
  resize: none;
  min-height: 35px;
  outline: none;
}

.comment-submit {
  padding: 6px 12px;
}

/* Wallet Section */
.wallet-layout {
  display: flex;
  flex-direction: column;
  height: calc(100vh - 88px);
  overflow-y: auto;
  overflow-x: hidden;
}

.wallet-tabs {
  display: flex;
  background: var(--bg-secondary);
  padding: 3px;
  border-radius: 8px;
  margin: 6px 6px 8px 6px;
  overflow-x: auto;
}

.wallet-tab {
  flex: 1;
  padding: 6px 8px;
  background: transparent;
  border: none;
  color: var(--text-dim);
  border-radius: 6px;
  cursor: pointer;
  font-size: 10px;
  font-weight: 600;
  transition: all 0.2s ease;
  white-space: nowrap;
}

.wallet-tab.active {
  background: var(--primary);
  color: var(--text);
}

.convert-btn {
  color: var(--glow-pink);
}

.wallet-content {
  display: none;
  padding: 6px;
}

.wallet-content.active {
  display: block;
}

.wallet-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 8px;
  margin-bottom: 8px;
}

.transaction-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 6px 0;
  border-bottom: 1px solid var(--border);
}

.transaction-item:last-child {
  border-bottom: none;
}

.transaction-icon {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 6px;
}

.transaction-icon.send {
  background: rgba(255, 68, 68, 0.2);
  color: var(--error);
}

.transaction-icon.receive {
  background: rgba(0, 255, 136, 0.2);
  color: var(--success);
}

.form-group {
  margin-bottom: 6px;
}

.form-label {
  display: block;
  margin-bottom: 3px;
  color: var(--text-dim);
  font-size: 10px;
  font-weight: 500;
}

.form-input,
.form-select {
  width: 100%;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  color: var(--text);
  padding: 6px;
  border-radius: 6px;
  font-size: 10px;
  transition: all 0.2s ease;
}

.form-input:focus,
.form-select:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 2px rgba(255, 0, 128, 0.1);
}

/* P2P Container */
.p2p-container {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.p2p-tabs {
  display: flex;
  gap: 3px;
  margin-bottom: 6px;
  overflow-x: auto;
}

.p2p-tab {
  flex: 1;
  padding: 6px 8px;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: 6px;
  color: var(--text-dim);
  font-size: 10px;
  font-weight: 600;
  cursor: pointer;
  text-align: center;
  white-space: nowrap;
}

.p2p-tab.active {
  background: var(--primary);
  color: var(--text);
}

.p2p-filters {
  display: flex;
  gap: 3px;
  margin-bottom: 6px;
  overflow-x: auto;
}

.filter-group {
  flex: 1;
}

.p2p-offers-grid {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.p2p-offer {
  background: var(--bg-secondary);
  border-radius: 8px;
  padding: 8px;
  border: 1px solid var(--border);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.offer-details h4 {
  color: var(--primary);
  font-size: 10px;
  margin-bottom: 3px;
}

.offer-rate {
  font-size: 12px;
  font-weight: 600;
}

.offer-limit {
  color: var(--text-dim);
  font-size: 8px;
}

.p2p-sidebar {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

/* Messages Section */
.messages-layout {
  display: flex;
  flex-direction: column;
  height: calc(100vh - 48px);
  overflow: hidden;
}

.chat-list {
  background: var(--surface);
  padding: 8px;
  border: 1px solid var(--border);
  border-radius: 8px;
  display: none;
  height: 100%;
  overflow-y: auto;
}

.chat-list.active {
  display: block;
}

.chat-item {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 6px;
  border-radius: 8px;
  cursor: pointer;
  margin-bottom: 3px;
  transition: all 0.2s ease;
}

.chat-item:hover,
.chat-item.active {
  background: var(--bg-secondary);
  border: 1px solid var(--primary);
}

.chat-container {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  height: 100%;
}

.chat-header {
  padding: 6px 8px;
  border-bottom: 1px solid var(--border);
  display: flex;
  align-items: center;
  gap: 6px;
  position: sticky;
  top: 0;
  background: var(--surface);
  z-index: 10;
}

.back-btn {
  display: none;
  background: none;
  border: none;
  color: var(--primary);
  font-size: 1.2rem;
  cursor: pointer;
  padding: 3px;
}

.chat-messages {
  flex: 1;
  padding: 8px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.message {
  display: flex;
  gap: 6px;
  max-width: 85%;
}

.message.sent {
  align-self: flex-end;
  flex-direction: row-reverse;
}

.message-bubble {
  background: var(--bg-secondary);
  padding: 6px 8px;
  border-radius: 12px;
  font-size: 10px;
  word-wrap: break-word;
}

.message.sent .message-bubble {
  background: var(--primary);
  color: var(--text);
}

.chat-input-container {
  padding: 6px 8px;
  border-top: 1px solid var(--border);
  display: flex;
  gap: 6px;
  align-items: flex-end;
  background: var(--surface);
}

.chat-input {
  flex: 1;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  color: var(--text);
  padding: 6px 8px;
  border-radius: 12px;
  font-size: 10px;
  outline: none;
  resize: none;
  min-height: 32px;
  max-height: 80px;
}

.send-btn {
  background: var(--primary);
  border: none;
  color: var(--text);
  width: 32px;
  height: 32px;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.9rem;
  flex-shrink: 0;
}

.send-btn:hover {
  transform: scale(1.05);
}

/* Notifications Section */
.notificationFeeds {
  height: calc(100vh - 48px);
  overflow-y: auto;
  padding: 6px;
}

.notification-filters {
  display: flex;
  gap: 3px;
  margin-bottom: 6px;
  overflow-x: auto;
}

.filter-btn {
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  color: var(--text-dim);
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 10px;
  cursor: pointer;
  white-space: nowrap;
}

.filter-btn.active,
.filter-btn:hover {
  background: var(--primary);
  color: var(--text);
  border-color: var(--primary);
}

.notification {
  background: var(--surface);
  border-radius: 8px;
  padding: 8px;
  margin-bottom: 6px;
  border: 1px solid var(--border);
  display: flex;
  gap: 6px;
  align-items: flex-start;
}

.notification:hover {
  transform: translateX(3px);
  background: var(--bg-secondary);
}

.notification-icon {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.9rem;
  flex-shrink: 0;
}

.notification-icon.success {
  background: rgba(0, 255, 136, 0.2);
  color: var(--success);
}

.notification-icon.warning {
  background: rgba(255, 170, 0, 0.2);
  color: var(--warning);
}

.notification-icon.info {
  background: rgba(255, 0, 128, 0.2);
  color: var(--primary);
}

.notification-content {
  flex: 1;
}

.notification-title {
  font-weight: 600;
  font-size: 10px;
  margin-bottom: 3px;
}

.notification-text {
  color: var(--text-dim);
  font-size: 9px;
  line-height: 1.4;
}

.notification-time {
  color: var(--text-dim);
  font-size: 8px;
  margin-top: 3px;
}

/* Community Section */
.community-grid {
  display: flex;
  flex-direction: column;
  gap: 6px;
  padding: 6px;
  height: calc(100vh - 48px);
  overflow-y: auto;
}

.community-card {
  background: var(--surface);
  border-radius: 12px;
  padding: 8px;
  border: 1px solid var(--border);
  position: relative;
  transition: all 0.2s ease;
  animation: slideIn 0.5s ease forwards;
}

.community-card:hover {
  transform: translateY(-2px);
}

.community-header {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-bottom: 6px;
}

.community-flag {
  font-size: 1.5rem;
  width: 40px;
  height: 40px;
  border-radius: 12px;
  background: rgba(139, 92, 246, 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
}

.community-card:hover .community-flag {
  transform: scale(1.05);
}

.community-info {
  flex: 1;
}

.community-name {
  font-size: 14px;
  font-weight: 700;
  background: var(--primary-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin-bottom: 3px;
}

.community-members {
  color: var(--text-dim);
  font-size: 9px;
  display: flex;
  align-items: center;
  gap: 3px;
}

.online-indicator {
  width: 5px;
  height: 5px;
  background: var(--success);
  border-radius: 50%;
  animation: pulse 2s infinite;
}

.community-stats {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 6px;
  margin: 6px 0;
  background: rgba(139, 92, 246, 0.05);
  padding: 6px;
  border-radius: 8px;
}

.stat-item {
  text-align: center;
}

.stat-number {
  font-size: 14px;
  font-weight: 700;
  background: var(--primary-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.stat-label {
  font-size: 9px;
  color: var(--text-dim);
}

.community-actions {
  display: flex;
  gap: 6px;
  margin-top: 6px;
}

.community-btn {
  flex: 1;
  background: var(--primary-gradient);
  border: none;
  color: var(--text);
  padding: 6px;
  border-radius: 8px;
  font-weight: 600;
  font-size: 10px;
  cursor: pointer;
  text-transform: uppercase;
}

.community-btn:hover {
  transform: translateY(-1px);
}

.community-btn.joined {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
}

.preview-btn {
  background: rgba(139, 92, 246, 0.1);
  border: 1px solid var(--border);
  color: var(--primary);
  padding: 6px;
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 36px;
}

.preview-btn:hover {
  background: rgba(139, 92, 246, 0.2);
}

.activity-pulse {
  position: absolute;
  top: 6px;
  right: 6px;
  width: 6px;
  height: 6px;
  background: var(--success);
  border-radius: 50%;
  animation: pulse 2s infinite;
}

.community-modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.8);
  backdrop-filter: blur(10px);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 2000;
  padding: 6px;
}

/* Finance Section */
.subsection-nav {
  display: flex;
  gap: 3px;
  padding: 4px 6px;
  background: var(--bg-primary);
  border-bottom: 1px solid var(--border);
  position: sticky;
  top: 48px;
  z-index: 10;
  overflow-x: auto;
}

.nav-tab {
  flex: 1;
  background: var(--bg-card);
  padding: 6px 8px;
  border-radius: 12px;
  border: 1px solid var(--border);
  color: var(--text-dim);
  font-size: 10px;
  cursor: pointer;
  text-align: center;
  white-space: nowrap;
}

.nav-tab.active,
.nav-tab:hover {
  background: var(--primary-gradient);
  color: var(--text);
}

.subsection {
  display: none;
  padding: 6px;
  height: calc(100vh - 88px);
  overflow-y: auto;
}

.subsection.active {
  display: block;
  animation: fadeInUp 0.5s ease;
}

.bills-grid,
.staking-dashboard,
.savings-layout {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.quick-pay-card,
.recent-bills,
.staking-pool,
.rewards-card,
.leaderboard,
.savings-plan,
.savings-tracker {
  background: var(--surface);
  border-radius: 8px;
  padding: 8px;
  margin-bottom: 6px;
  border: 1px solid var(--border);
}

.card-title {
  font-size: 12px;
  color: var(--primary);
  margin-bottom: 6px;
}

.bill-form {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.amount-input {
  font-size: 14px;
  font-weight: bold;
  text-align: center;
}

.btn-primary {
  background: var(--primary-gradient);
  font-size: 10px;
  padding: 8px;
}

.bill-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 6px;
  margin: 3px 0;
  background: var(--bg-secondary);
  border-radius: 6px;
}

.bill-name {
  color: var(--text);
  font-weight: 600;
}

.bill-date,
.bill-amount {
  font-size: 9px;
  color: var(--text-dim);
}

.bill-amount {
  color: var(--success);
}

.pool-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 6px;
}

.pool-apy {
  font-size: 18px;
  font-weight: bold;
  background: var(--primary-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.pool-info,
.goal-stats {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 6px;
}

.info-item,
.stat-card {
  background: var(--bg-secondary);
  padding: 6px;
  border-radius: 6px;
  text-align: center;
}

.info-value {
  font-size: 12px;
  font-weight: 600;
  color: var(--primary);
}

.info-label {
  font-size: 9px;
  color: var(--text-dim);
}

.staking-form {
  display: flex;
  gap: 6px;
  align-items: center;
}

.rewards-amount {
  font-size: 18px;
  font-weight: bold;
  margin: 6px 0;
}

.leaderboard-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 6px;
  margin: 3px 0;
  background: var(--bg-secondary);
  border-radius: 6px;
}

.rank {
  background: var(--primary-gradient);
  color: white;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 10px;
}

.plan-badge {
  position: absolute;
  top: -6px;
  right: 8px;
  background: var(--primary-gradient);
  padding: 3px 6px;
  border-radius: 12px;
  font-size: 8px;
  font-weight: bold;
}

.plan-title {
  font-size: 12px;
  color: var(--primary);
}

.plan-features {
  list-style: none;
  margin: 6px 0;
}

.plan-features li {
  padding: 3px 0;
  font-size: 9px;
  display: flex;
  align-items: center;
  gap: 3px;
}

.plan-features li::before {
  content: '✓';
  color: var(--success);
}

.goal-progress {
  margin: 6px 0;
}

.progress-bar {
  background: var(--bg-secondary);
  height: 6px;
  border-radius: 4px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: var(--primary-gradient);
  border-radius: 4px;
  animation: progressAnimation 2s ease-in-out;
}

/* Account Section */
.account-tabs {
  display: flex;
  background: var(--bg-secondary);
  padding: 3px;
  border-radius: 8px;
  margin: 6px 6px 8px 6px;
  overflow-x: auto;
}

.account-tab {
  flex: 1;
  padding: 6px 8px;
  background: transparent;
  border: none;
  color: var(--text-dim);
  border-radius: 6px;
  font-size: 10px;
  font-weight: 600;
  cursor: pointer;
  white-space: nowrap;
}

.account-tab.active {
  background: var(--primary);
  color: var(--text);
}

.profile-section {
  padding: 6px;
}

.profile-header {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  margin-bottom: 8px;
}

.profile-avatar {
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background: var(--primary-gradient);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
}

.profile-info h2 {
  font-size: 16px;
  margin-bottom: 3px;
}

.profile-stats {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 6px;
  margin-top: 8px;
}

.profile-stat {
  background: var(--bg-secondary);
  padding: 6px;
  border-radius: 6px;
  text-align: center;
}

/* Floating Stats */
.floating-stats {
  position: fixed;
  bottom: 8px;
  right: 8px;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 6px;
  backdrop-filter: blur(10px);
  z-index: 1000;
  animation: fadeIn 1s ease forwards;
}

.global-stat {
  text-align: center;
  color: var(--text-dim);
  font-size: 9px;
}

.global-number {
  font-size: 12px;
  font-weight: 700;
  color: var(--primary);
}

/* Sidebar Overlay */
.sidebar-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100vh;
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(5px);
  z-index: 999;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s ease, visibility 0.3s ease;
  cursor: pointer;
}

.sidebar-overlay.active {
  opacity: 1;
  visibility: visible;
}

.overlay-close-btn {
  position: absolute;
  top: 12px;
  right: 12px;
  width: 32px;
  height: 32px;
  background: var(--bg-card);
  border: 1px solid var(--border-color);
  border-radius: 50%;
  color: var(--text);
  font-size: 1.2rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

.overlay-close-btn:hover {
  background: var(--primary-gradient);
  color: var(--text);
  transform: scale(1.1);
}

/* Mobile Specific Adjustments */
@media (max-width: 767px) {
  /* Sidebar Mobile Behavior */
  .sidebar {
    width: 75vw;
    /* max-width: 280px; */
    box-shadow: 2px 0 10px rgba(0, 0, 0, 0.3);
  }
  
  .main-content {
    transition: none;
    transform: none;
  }
  
  /* Messages Mobile Behavior */
  .messages-layout {
    position: relative;
  }
  
  .chat-list {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 10;
    background: var(--bg-primary);
    border: none;
    border-radius: 0;
    padding: 6px;
  }
  
  .chat-container {
    position: absolute;
    top: 0;
    left: 100%;
    right: -100%;
    bottom: 0;
    z-index: 20;
    background: var(--bg-primary);
    border: none;
    border-radius: 0;
    transition: left 0.3s ease, right 0.3s ease;
  }
  
  .chat-container.active {
    left: 0;
    right: 0;
  }
  
  .back-btn {
    display: block;
  }
  
  /* Remove excessive padding on mobile */
  .container {
    padding: 4px;
  }
  
  .section {
    height: calc(100vh - 48px);
  }
  
  .social-layout {
    height: calc(100vh - 88px);
    padding: 4px;
  }
  
  .wallet-layout {
    height: calc(100vh - 88px);
  }
  
  .subsection {
    height: calc(100vh - 88px);
    padding: 4px;
  }
  
  .notificationFeeds {
    padding: 4px;
  }
  
  .community-grid {
    padding: 4px;
  }
  
  /* Reduce gaps and spacing */
  .stats-grid {
    gap: 4px;
    margin-bottom: 6px;
  }
  
  .chart-section,
  .features,
  .network-card,
  .wallet-card,
  .post,
  .community-card,
  .notification {
    margin-bottom: 4px;
  }
  
  /* Fix white space issues */
  body {
    height: 100vh;
    overflow: hidden;
  }
  
  .main-content {
    height: 100vh;
    overflow: hidden;
  }
}

/* Tablet and Desktop */
@media (min-width: 480px) {
  .stats-grid { 
    grid-template-columns: repeat(3, 1fr); 
    gap: 8px; 
  }
  .stat-card { 
    padding: 10px; 
    min-height: 65px; 
  }
  .stat-value { 
    font-size: 16px; 
  }
  .stat-label { 
    font-size: 10px; 
  }
  .chart-container { 
    height: 180px; 
  }
  .btn { 
    padding: 8px; 
    font-size: 10px; 
  }
  .feature-grid { 
    grid-template-columns: repeat(4, 1fr); 
  }
  .network-grid { 
    grid-template-columns: repeat(2, 1fr); 
    gap: 8px; 
  }
}

@media (min-width: 768px) {
  .sidebar {
    width: 240px;
    transform: translateX(0);
  }
  
  .main-content { 
    margin-left: 240px; 
  }
  
  .mobile-menu-btn { 
    display: none; 
  }
  
  .stats-grid { 
    grid-template-columns: repeat(4, 1fr); 
    gap: 10px; 
  }
  
  .stat-card { 
    padding: 14px; 
    min-height: 80px; 
  }
  
  .stat-value { 
    font-size: 18px; 
  }
  
  .stat-label { 
    font-size: 11px; 
  }
  
  .chart-container { 
    height: 220px; 
  }
  
  .chart-section { 
    padding: 14px; 
  }
  
  .btn { 
    padding: 10px; 
    font-size: 11px; 
  }
  
  .network-grid { 
    grid-template-columns: repeat(3, 1fr); 
  }
  
  .social-layout { 
    grid-template-columns: 1fr 280px; 
    display: grid; 
  }
  
  .trending-sidebar { 
    display: block; 
  }
  
  .social-content.trending { 
    display: none; 
  }
  
  .messages-layout { 
    grid-template-columns: 1fr 2fr; 
    display: grid; 
  }
  
  .chat-list { 
    display: block;
    position: relative;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    z-index: 1;
  }
  
  .chat-container {
    position: relative;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    z-index: 1;
  }
  
  .back-btn {
    display: none;
  }
  
  .bills-grid, 
  .staking-dashboard, 
  .savings-layout { 
    grid-template-columns: 1fr 1fr; 
    display: grid; 
  }
  
  .community-grid { 
    grid-template-columns: repeat(2, 1fr); 
  }
  
  .container {
    padding: 12px;
  }
  
  .social-layout {
    padding: 8px;
  }
  
  .subsection {
    padding: 8px;
  }
  
  .notificationFeeds {
    padding: 8px;
  }
  
  .community-grid {
    padding: 8px;
  }
}

@media (min-width: 1024px) {
  .stats-grid { 
    grid-template-columns: repeat(4, 1fr); 
  }
  
  .chart-container { 
    height: 280px; 
  }
  
  .wallet-layout { 
    grid-template-columns: repeat(2, 1fr); 
    display: grid; 
  }
  
  .community-grid { 
    grid-template-columns: repeat(3, 1fr); 
  }
}

@keyframes fadeIn {
  from { 
    opacity: 0; 
    transform: translateY(10px); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0); 
  }
}

@keyframes progressAnimation {
  from { 
    width: 0; 
  }
  to { 
    width: 100%; 
  }
}
.deposite-btn-div .deposit-btn {
  width: 100px;
}
  </style>
</head>
<body>
    <div class="background-particles" id="particles"></div>
   <!-- Sidebar -->
<nav class="sidebar" id="sidebar">
  <div class="user-profile">
    <div class="avatar">E</div>
    <div>
      <h4 id="profile-name">Emmanuel</h4>
      <p class="wallet-address">k:abc...xyz</p>
    </div>
  </div>
  <ul class="nav-menu">
    <li class="nav-item">
      <a href="#" class="nav-link active" onclick="showSection('dashboard')">
        <span class="nav-icon">📊</span>
        <span>Dashboard</span>
      </a>
    </li>
    <li class="nav-item">
      <a href="#" class="nav-link" onclick="showSection('social')">
        <span class="nav-icon">🌐</span>
        <span>Social</span>
      </a>
    </li>
    <li class="nav-item">
      <a href="#" class="nav-link" onclick="showSection('wallet')">
        <span class="nav-icon">💳</span>
        <span>Wallet</span>
      </a>
    </li>
    <li class="nav-item">
      <a href="#" class="nav-link" onclick="showSection('messages')">
        <span class="nav-icon">💬</span>
        <span>Messages</span>
      </a>
    </li>
    <li class="nav-item">
      <a href="#" class="nav-link" onclick="showSection('notifications')">
        <span class="nav-icon">🔔</span>
        <span>Notifications</span>
      </a>
    </li>
    <li class="nav-item">
      <a href="#" class="nav-link" onclick="showSection('community')">
        <span class="nav-icon">👥</span>
        <span>Community</span>
      </a>
    </li>
    <li class="nav-item">
      <a href="#" class="nav-link" onclick="showSection('finance')">
        <span class="nav-icon">💰</span>
        <span>Finance</span>
      </a>
    </li>
    <li class="nav-item">
      <a href="#" class="nav-link" onclick="showSection('account')">
        <span class="nav-icon">👤</span>
        <span>My Account</span>
      </a>
    </li>
  </ul>
  <div class="sidebar-mini-market">
    <h4>Market Snapshot</h4>
    <!-- JavaScript will populate items here -->
  </div>
</nav>
<div class="sidebar-overlay" id="sidebarOverlay">
  <button class="overlay-close-btn" onclick="toggleSidebar()">&times;</button>
</div>

  <!-- Main Content -->
  <main class="main-content" id="mainContent">
    
    <!-- Dashboard Section -->
    <section class="section active" id="dashboard">
        <div class="background-particles" id="particles"></div>
      <div class="section-header">
        <h1 class="section-title">KAN Dashboard</h1>
        <button class="mobile-menu-btn" onclick="toggleSidebar()">☰</button>
      </div>

      <div class="container">
           <div class="balance-grid">
                <div class="stat-change positive">+12.4%</div>
                <div class="stat-value" id="balance">12,450.73 KDA</div>
                <div class="stat-label">💰 Balance</div>
            </div>
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-change positive" id="priceChange">+24.7%</div>
                <div class="stat-value" id="price">$0.4285</div>
                <div class="stat-label">📈 KDA Price</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-change positive">+156.3%</div>
                <div class="stat-value" id="volume">$14.2M</div>
                <div class="stat-label">🔥 Volume</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-change positive">+8.1%</div>
                <div class="stat-value" id="members">127,891</div>
                <div class="stat-label">👥 Members</div>
            </div>

            <div class="stat-card">
                <div class="stat-change positive">+0.2%</div>
                <div class="stat-value">847.3 PH/s</div>
                <div class="stat-label">⚡ Hashrate</div>
            </div>

            <div class="stat-card">
                <div class="stat-change positive">+45.8%</div>
                <div class="stat-value" id="marketCap">$1.08B</div>
                <div class="stat-label">💎 Market Cap</div>
            </div>

            <div class="stat-card">
                <div class="stat-change positive">Live</div>
                <div class="stat-value pulse">20 Chains</div>
                <div class="stat-label">🔗 Active</div>
            </div>

            <div class="stat-card">
                <div class="stat-change positive">∞</div>
                <div class="stat-value">480K TPS</div>
                <div class="stat-label">🚀 Max TPS</div>
            </div>
        </div>
        <div class="deposit-btn-div">
              <button class="deposit-btn" onclick="trade('buy')">Deposit</button>
        </div>

        <div class="chart-section">
            <div class="chart-header">📊 KDA/USD Live Chart</div>
            <div class="chart-container">
                <canvas id="mainChart"></canvas>
            </div>
            
        </div>
        <div class="action-buttons">
                <button class="btn" onclick="trade('buy')">Trade</button>
                <button class="btn" onclick="trade('sell')">P2P</button>
                <button class="btn" onclick="stake()">Stake</button>
                <button class="btn" onclick="swap()">Swap</button>
        </div>

        <div class="features">
            <h3>🌟 Why Kadena Dominates</h3>
            <div class="feature-grid">
                <div class="feature-item">
                    <div class="feature-icon">⚡</div>
                    <h4>Infinite Scale</h4>
                    <p>Braided chains solve scalability</p>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">🛡️</div>
                    <h4>PoW Security</h4>
                    <p>Bitcoin-level protection</p>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">💡</div>
                    <h4>Pact Contracts</h4>
                    <p>Human-readable & safe</p>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">🌍</div>
                    <h4>Global Impact</h4>
                    <p>Financial inclusion</p>
                </div>
            </div>
        </div>

        <div class="network-grid">
            <div class="network-card">
                <h4>🔗 Network Performance</h4>
                <div class="metric-row">
                    <span class="metric-label">Block Time</span>
                    <span class="metric-value">30s</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">Finality</span>
                    <span class="metric-value">Instant</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">TX Cost</span>
                    <span class="metric-value">~$0.0001</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">Current TPS</span>
                    <span class="metric-value pulse">1,247</span>
                </div>
                <canvas id="networkChart" class="mini-chart"></canvas>
            </div>

            <div class="network-card">
                <h4>🏦 DeFi Stats</h4>
                <div class="metric-row">
                    <span class="metric-label">TVL</span>
                    <span class="metric-value">$45.7M</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">DEXs</span>
                    <span class="metric-value">8</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">Pools</span>
                    <span class="metric-value">124</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">Daily TXs</span>
                    <span class="metric-value pulse">89,421</span>
                </div>
                <canvas id="defiChart" class="mini-chart"></canvas>
            </div>

            <div class="network-card">
                <h4>🌐 Adoption</h4>
                <div class="metric-row">
                    <span class="metric-label">Countries</span>
                    <span class="metric-value">47</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">Partners</span>
                    <span class="metric-value">12</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">Dev Activity</span>
                    <span class="metric-value">High</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">Commits/mo</span>
                    <span class="metric-value pulse">2,847</span>
                </div>
                <canvas id="adoptionChart" class="mini-chart"></canvas>
            </div>
        </div>
     </div>
    </section>

    <!-- Social Section -->
<section class="section" id="social">
  <div class="background-particles" id="particles">
    <div class="particle" style="width: 4px; height: 4px; top: 20%; left: 10%; animation-delay: 0s;"></div>
    <div class="particle" style="width: 6px; height: 6px; top: 60%; left: 80%; animation-delay: 2s;"></div>
    <div class="particle" style="width: 3px; height: 3px; top: 80%; left: 30%; animation-delay: 4s;"></div>
  </div>
  <div class="section-header">
    <h1 class="section-title">Social Hub</h1>
    <button class="mobile-menu-btn" onclick="toggleSidebar()">☰</button>
  </div>

  <div class="social-subnav">
    <button class="subnav-tab active" data-tab="feeds">Feeds</button>
    <button class="subnav-tab" data-tab="livestream">Live Streaming</button>
    <button class="subnav-tab" data-tab="trending">Trending</button>
  </div>

  <div class="social-layout">
    <!-- Feeds Subsection -->
    <div class="social-content feeds active">
      <div class="post-composer glass">
        <textarea class="composer-input" placeholder="What's happening in the blockchain world?"></textarea>
        <div class="composer-actions">
          <div class="media-icons">
            <button class="media-icon">📷</button>
            <button class="media-icon">🎥</button>
            <button class="media-icon">📊</button>
            <button class="media-icon">💭</button>
          </div>
          <button class="btn">Post</button>
        </div>
      </div>

      <div class="feed">
        <div class="post" data-post-id="1">
          <div class="post-header">
            <div class="avatar">A</div>
            <div>
              <h4>@Alice_Blockchain</h4>
              <p class="post-time">2 hours ago</p>
            </div>
          </div>
          <p>Just bridged 1000 KDA to the new DeFi protocol! 🚀 #KDA #DeFi</p>
          <div class="post-actions">
            <button class="action-btn like-btn" data-liked="false"><span class="icon">❤️</span> <span class="count">234</span></button>
            <button class="action-btn comment-btn"><span class="icon">💬</span> <span class="count">45</span></button>
            <button class="action-btn share-btn"><span class="icon">🔄</span> <span class="count">78</span></button>
          </div>
        </div>

        <div class="post" data-post-id="2">
          <div class="post-header">
            <div class="avatar">B</div>
            <div>
              <h4>@BlockchainBob</h4>
              <p class="post-time">4 hours ago</p>
            </div>
          </div>
          <p>Building the next gen dApp on Kadena! Who's ready for beta? 🔥</p>
          <div class="post-actions">
            <button class="action-btn like-btn" data-liked="false"><span class="icon">❤️</span> <span class="count">156</span></button>
            <button class="action-btn comment-btn"><span class="icon">💬</span> <span class="count">23</span></button>
            <button class="action-btn share-btn"><span class="icon">🔄</span> <span class="count">34</span></button>
          </div>
        </div>
      </div>
    </div>

    <!-- Live Streaming Subsection -->
    <div class="social-content livestream">
      <div class="stream-grid">
        <div class="stream-card glass">
          <div class="stream-placeholder">Live Stream Placeholder</div>
          <div class="stream-info">
            <h4>Live KDA DeFi Discussion</h4>
            <p class="stream-host">Hosted by @CryptoQueen</p>
            <p class="stream-viewers">1,245 viewers • Live Now</p>
            <button class="btn join-stream">Join Stream</button>
          </div>
        </div>
        <div class="stream-card glass">
          <div class="stream-placeholder">Live Stream Placeholder</div>
          <div class="stream-info">
            <h4>Kadena Dev Q&A</h4>
            <p class="stream-host">Hosted by @TechGuru</p>
            <p class="stream-viewers">892 viewers • Live Now</p>
            <button class="btn join-stream">Join Stream</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Trending Subsection (Mobile Only) -->
    <div class="social-content trending">
      <div class="trending-section glass">
        <h3>🔥 General Trending</h3>
        <div class="trending-item">
          <div class="trending-topic">#KDAToTheMoon</div>
          <div class="trending-count">12.4K posts</div>
        </div>
        <div class="trending-item">
          <div class="trending-topic">#DeFiRevolution</div>
          <div class="trending-count">8.9K posts</div>
        </div>
      </div>
      <div class="trending-section glass">
        <h3>📹 Trending Live Streams</h3>
        <div class="trending-item">
          <div class="trending-topic">KDA DeFi Discussion</div>
          <div class="trending-count">1,245 viewers</div>
        </div>
        <div class="trending-item">
          <div class="trending-topic">Kadena Dev Q&A</div>
          <div class="trending-count">892 viewers</div>
        </div>
      </div>
    </div>

    <!-- Trending Sidebar (Desktop Only) -->
    <div class="trending-sidebar glass" id="trendingSidebar">
      <h3 id="trendingTitle">🔥 Trending</h3>
      <div class="trending-item">
        <div class="trending-topic">#KDAToTheMoon</div>
        <div class="trending-count">12.4K posts</div>
      </div>
      <div class="trending-item">
        <div class="trending-topic">#DeFiRevolution</div>
        <div class="trending-count">8.9K posts</div>
      </div>
      <div class="trending-item">
        <div class="trending-topic">KDA DeFi Discussion</div>
        <div class="trending-count">1,245 viewers</div>
      </div>
    </div>
  </div>

  <!-- Post Overlay Modal -->
  <div class="post-modal" id="postModal">
    <div class="modal-content glass">
      <div class="modal-header">
        <h3>Post Details</h3>
        <button class="close-btn" onclick="closePostModal()">&times;</button>
      </div>
      <div class="modal-post-content" id="modalPostContent"></div>
      <div class="comments-section">
        <h4>Comments</h4>
        <div class="comments-list" id="commentsList"></div>
        <div class="comment-input-container">
          <textarea class="comment-input" placeholder="Add a comment..."></textarea>
          <button class="btn comment-submit" onclick="submitComment()">Post</button>
        </div>
      </div>
    </div>
  </div>
</section>

    <!-- Wallet Section -->
    <section class="section" id="wallet">
        <div class="section-header">
            <h1 class="section-title">Digital Wallet</h1>
            <button class="mobile-menu-btn" onclick="toggleSidebar()">☰</button>
        </div>

        <div class="wallet-tabs">
            <button class="wallet-tab active" onclick="switchWalletTab('send')">Send</button>
            <button class="wallet-tab" onclick="switchWalletTab('receive')">Receive</button>
            <button class="wallet-tab" onclick="switchWalletTab('convert')">Convert</button>
            <button class="wallet-tab" onclick="switchWalletTab('p2p')">P2P</button>
            <button class="wallet-tab" onclick="switchWalletTab('history')">History</button>
        </div>

        <div id="wallet-send" class="wallet-content SectionContent active">
            <div class="wallet-card" style="max-width: 500px; margin: 0 auto;">
                <h3>Send KDA</h3>
                <form>
                    <div class="form-group">
                        <label class="form-label">Recipient Address</label>
                        <input type="text" class="form-input" placeholder="k:recipient-address">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Amount</label>
                        <input type="number" class="form-input" placeholder="0.00">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Gas Fee</label>
                        <select class="form-input">
                            <option>Standard (0.001 KDA)</option>
                            <option>Fast (0.002 KDA)</option>
                            <option>Instant (0.005 KDA)</option>
                        </select>
                    </div>
                    <button type="submit" class="btn" style="width: 100%;">Send Transaction</button>
                </form>
            </div>
        </div>

        <div id="wallet-receive" class="wallet-content SectionContent">
            <div class="wallet-card" style="max-width: 500px; margin: 0 auto; text-align: center;">
                <h3>Receive KDA</h3>
                <div style="background: white; padding: 2rem; border-radius: 12px; margin: 2rem 0;">
                    <p style="color: black; font-size: 0.875rem;">QR Code will be generated here</p>
                    <div style="width: 200px; height: 200px; background: #f0f0f0; margin: 1rem auto; display: flex; align-items: center; justify-content: center; border-radius: 8px;">
                        <span style="color: #666;">QR Code</span>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Your Wallet Address</label>
                    <input type="text" class="form-input" value="k:your-wallet-address-here" readonly>
                </div>
                <button class="btn">Copy Address</button>
            </div>
        </div>

        <div id="wallet-convert" class="wallet-content SectionContent">
            <div class="wallet-card" style="max-width: 500px; margin: 0 auto;">
                <h3>Convert Assets</h3>
                <div style="text-align: center; margin: 2rem 0;">
                    <div style="background: var(--bg-secondary); padding: 1.5rem; border-radius: 12px; margin-bottom: 1rem;">
                        <input type="number" class="form-input" placeholder="0.00" style="margin-bottom: 1rem;">
                        <select class="form-input">
                            <option>KDA</option>
                            <option>USDC</option>
                            <option>ETH</option>
                        </select>
                    </div>
                    <div class="convert-btn" style="font-size: 1.5rem; color: var(--accent-color);">⇅</div>
                    <div style="background: var(--bg-secondary); padding: 1.5rem; border-radius: 12px; margin-top: 1rem;">
                        <input type="number" class="form-input" placeholder="0.00" readonly style="margin-bottom: 1rem;">
                        <select class="form-input">
                            <option>USDC</option>
                            <option>KDA</option>
                            <option>ETH</option>
                        </select>
                    </div>
                </div>
                <button class="btn" style="width: 100%;">Convert</button>
            </div>
        </div>

        <!-- P2P Market Tab Content -->
<div id="wallet-p2p" class="wallet-content SectionContent">
    <div class="p2p-container">
        <!-- Main P2P Trading Area -->
        <div class="p2p-main">
            <div class="p2p-tabs">
                <button class="p2p-tab active" data-p2p-tab="buy" onclick="switchP2PTab('buy')">Buy Orders</button>
                <button class="p2p-tab" data-p2p-tab="sell" onclick="switchP2PTab('sell')">Sell Orders</button>
                <button class="p2p-tab" data-p2p-tab="my-orders" onclick="switchP2PTab('my-orders')">My Orders</button>
                <button class="p2p-tab" data-p2p-tab="create" onclick="switchP2PTab('create')">Create Order</button>
            </div>

            <div class="p2p-filters">
                <div class="filter-group">
                    <select id="p2p-currency-filter">
                        <option value="all">All Currencies</option>
                        <option value="KDA">Kadena (KDA)</option>
                        <option value="BTC">Bitcoin (BTC)</option>
                        <option value="ETH">Ethereum (ETH)</option>
                        <option value="USDT">Tether (USDT)</option>
                    </select>
                </div>
                <div class="filter-group">
                    <select id="p2p-payment-filter">
                        <option value="all">All Methods</option>
                        <option value="bank">Bank Transfer</option>
                        <option value="mobile">Mobile Money</option>
                        <option value="cash">Cash</option>
                    </select>
                </div>
                <div class="filter-group">
                    <input type="number" id="p2p-min-amount" placeholder="Min Amount (NGN)">
                </div>
            </div>

            <!-- P2P Subsection Content -->
            <div id="p2p-buy" class="p2p-content active">
                <div class="p2p-offers-grid">
                    <div class="p2p-offer">
                        <div class="offer-details">
                            <h4>Seller: @CryptoTrader</h4>
                            <div class="offer-rate">₦1,200/KDA</div>
                            <div class="offer-limit">Limit: ₦10,000 - ₦500,000</div>
                        </div>
                        <button class="btn">Buy Now</button>
                    </div>
                    <div class="p2p-offer">
                        <div class="offer-details">
                            <h4>Seller: @KDAFan</h4>
                            <div class="offer-rate">₦1,180/KDA</div>
                            <div class="offer-limit">Limit: ₦5,000 - ₦300,000</div>
                        </div>
                        <button class="btn">Buy Now</button>
                    </div>
                </div>
            </div>
            <div id="p2p-sell" class="p2p-content">
                <div class="p2p-offers-grid">
                    <div class="p2p-offer">
                        <div class="offer-details">
                            <h4>Buyer: @TradeMaster</h4>
                            <div class="offer-rate">₦1,150/KDA</div>
                            <div class="offer-limit">Limit: ₦20,000 - ₦600,000</div>
                        </div>
                        <button class="btn">Sell Now</button>
                    </div>
                    <div class="p2p-offer">
                        <div class="offer-details">
                            <h4>Buyer: @BlockchainPro</h4>
                            <div class="offer-rate">₦1,140/KDA</div>
                            <div class="offer-limit">Limit: ₦15,000 - ₦400,000</div>
                        </div>
                        <button class="btn">Sell Now</button>
                    </div>
                </div>
            </div>
            <div id="p2p-my-orders" class="p2p-content">
                <div class="p2p-offers-grid">
                    <div class="p2p-offer">
                        <div class="offer-details">
                            <h4>Your Buy Order</h4>
                            <div class="offer-rate">₦1,190/KDA</div>
                            <div class="offer-limit">Status: Active</div>
                        </div>
                        <button class="btn secondary">Cancel Order</button>
                    </div>
                    <div class="p2p-offer">
                        <div class="offer-details">
                            <h4>Your Sell Order</h4>
                            <div class="offer-rate">₦1,160/KDA</div>
                            <div class="offer-limit">Status: Pending</div>
                        </div>
                        <button class="btn secondary">Cancel Order</button>
                    </div>
                </div>
            </div>
            <div id="p2p-create" class="p2p-content">
                <div class="wallet-card" style="max-width: 500px; margin: 0 auto;">
                    <h3>Create P2P Order</h3>
                    <form>
                        <div class="form-group">
                            <label class="form-label">Order Type</label>
                            <select class="form-input">
                                <option>Buy</option>
                                <option>Sell</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Amount (KDA)</label>
                            <input type="number" class="form-input" placeholder="0.00">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Price per KDA (NGN)</label>
                            <input type="number" class="form-input" placeholder="0.00">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Payment Method</label>
                            <select class="form-input">
                                <option>Bank Transfer</option>
                                <option>Mobile Money</option>
                                <option>Cash</option>
                            </select>
                        </div>
                        <button type="submit" class="btn" style="width: 100%;">Create Order</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- P2P Sidebar -->
        <div class="p2p-sidebar">
            <div class="wallet-card">
                <h3>P2P Balance</h3>
                <div class="balance-item">
                    <span class="balance-label">KDA Balance:</span>
                    <span class="balance-value" id="p2p-kda-balance">125.48 KDA</span>
                </div>
                <div class="balance-item">
                    <span class="balance-label">NGN Balance:</span>
                    <span class="balance-value" id="p2p-ngn-balance">₦45,230.00</span>
                </div>
                <div class="balance-item">
                    <span class="balance-label">In Escrow:</span>
                    <span class="balance-value" id="p2p-escrow-balance">₦15,000.00</span>
                </div>
                <div class="balance-item">
                    <span class="balance-label">Available:</span>
                    <span class="balance-value" id="p2p-available-balance">₦30,230.00</span>
                </div>
            </div>

            <div class="wallet-card">
                <h3>Recent P2P Activity</h3>
                <div id="p2p-recent-orders">
                    <div class="transaction-item">
                        <div>Buy 50 KDA</div>
                        <div style="color: var(--success); font-size: 0.875rem;">Completed • ₦59,000</div>
                    </div>
                    <div class="transaction-item">
                        <div>Sell 30 KDA</div>
                        <div style="color: var(--warning); font-size: 0.875rem;">Pending • ₦34,800</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

        <!-- History Tab Content (Previously Overview) -->
        <div id="wallet-history" class="wallet-content SectionContent">
            <div class="wallet-layout">
                <div class="wallet-card" style="grid-column: 1 / -1;">
                    <h3>Transaction History</h3>
                    
                    <!-- Filter Buttons -->
                    <div class="history-filters">
                        <button class="history-filter-btn active" onclick="filterHistory('all')">All</button>
                        <button class="history-filter-btn" onclick="filterHistory('sent')">Sent</button>
                        <button class="history-filter-btn" onclick="filterHistory('received')">Received</button>
                        <button class="history-filter-btn" onclick="filterHistory('staking')">Staking</button>
                        <button class="history-filter-btn" onclick="filterHistory('convert')">Convert</button>
                        <button class="history-filter-btn" onclick="filterHistory('p2p')">P2P</button>
                    </div>

                    <!-- All Transactions -->
                    <div class="history-section" id="history-all">
                        <div class="transaction-item" data-type="received">
                            <div style="display: flex; align-items: center;">
                                <div class="transaction-icon receive">↓</div>
                                <div>
                                    <h4>Received KDA</h4>
                                    <p style="color: var(--text-secondary); font-size: 0.875rem;">From: k:abc...def</p>
                                </div>
                            </div>
                            <div style="text-align: right;">
                                <div style="color: var(--success-color); font-weight: 600;">+250 KDA</div>
                                <div style="color: var(--text-secondary); font-size: 0.875rem;">2 hours ago</div>
                            </div>
                        </div>
                        
                        <div class="transaction-item" data-type="sent">
                            <div style="display: flex; align-items: center;">
                                <div class="transaction-icon send">↑</div>
                                <div>
                                    <h4>Sent KDA</h4>
                                    <p style="color: var(--text-secondary); font-size: 0.875rem;">To: k:ghi...jkl</p>
                                </div>
                            </div>
                            <div style="text-align: right;">
                                <div style="color: var(--error-color); font-weight: 600;">-50 KDA</div>
                                <div style="color: var(--text-secondary); font-size: 0.875rem;">5 hours ago</div>
                            </div>
                        </div>
                        
                        <div class="transaction-item" data-type="staking">
                            <div style="display: flex; align-items: center;">
                                <div class="transaction-icon receive">↓</div>
                                <div>
                                    <h4>Staking Reward</h4>
                                    <p style="color: var(--text-secondary); font-size: 0.875rem;">Pool: KDA-USDC</p>
                                </div>
                            </div>
                            <div style="text-align: right;">
                                <div style="color: var(--success-color); font-weight: 600;">+12.5 KDA</div>
                                <div style="color: var(--text-secondary); font-size: 0.875rem;">1 day ago</div>
                            </div>
                        </div>

                        <div class="transaction-item" data-type="convert">
                            <div style="display: flex; align-items: center;">
                                <div class="transaction-icon" style="background: rgba(245, 158, 11, 0.2); color: var(--warning-color);">⇅</div>
                                <div>
                                    <h4>Asset Conversion</h4>
                                    <p style="color: var(--text-secondary); font-size: 0.875rem;">KDA → USDC</p>
                                </div>
                            </div>
                            <div style="text-align: right;">
                                <div style="color: var(--warning-color); font-weight: 600;">100 KDA → 156 USDC</div>
                                <div style="color: var(--text-secondary); font-size: 0.875rem;">2 days ago</div>
                            </div>
                        </div>

                        <div class="transaction-item" data-type="p2p">
                            <div style="display: flex; align-items: center;">
                                <div class="transaction-icon" style="background: rgba(139, 92, 246, 0.2); color: #8b5cf6;">P</div>
                                <div>
                                    <h4>P2P Trade</h4>
                                    <p style="color: var(--text-secondary); font-size: 0.875rem;">Sold KDA for NGN</p>
                                </div>
                            </div>
                            <div style="text-align: right;">
                                <div style="color: var(--success-color); font-weight: 600;">+₦85,000</div>
                                <div style="color: var(--text-secondary); font-size: 0.875rem;">3 days ago</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Portfolio Balance Card -->
                <div class="wallet-card" style="grid-column: 1 / -1; margin-top: 20px;">
                    <h3>Portfolio Balance</h3>
                    <div style="text-align: center; margin: 2rem 0;">
                        <div style="font-size: 3rem; font-weight: 800; background: var(--primary-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">12,450 KDA</div>
                        <div style="color: var(--text-secondary); margin: 0.5rem 0;">≈ ₦2,445,000</div>
                        <div style="color: var(--success-color); font-weight: 600;">+15.8% (24h)</div>
                    </div>
                    <div class="trading-buttons">
                        <button class="btn">Buy KDA</button>
                        <button class="btn secondary">Sell KDA</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

     <!-- Messages Section -->
    <section class="section" id="messages">
      <div class="section-header">
        <h1 class="section-title">Messages</h1>
        <button class="mobile-menu-btn" onclick="toggleSidebar()">☰</button>
      </div>

      <div class="messages-layout ">
        <div class="chat-list">
          <h3 style="margin-bottom: 1rem;">Conversations</h3>
          <div class="chat-item active">
            <div class="avatar">T</div>
            <div style="flex: 1;">
              <h4>Tech Support</h4>
              <p style="color: var(--text-secondary); font-size: 0.875rem;">How can we help you today?</p>
            </div>
            <div style="color: var(--text-secondary); font-size: 0.75rem;">2m</div>
          </div>
          <div class="chat-item">
            <div class="avatar">A</div>
            <div style="flex: 1;">
              <h4>Alice</h4>
              <p style="color: var(--text-secondary); font-size: 0.875rem;">Great job on the DeFi project!</p>
            </div>
            <div style="color: var(--text-secondary); font-size: 0.75rem;">1h</div>
          </div>
          <div class="chat-item">
            <div class="avatar">B</div>
            <div style="flex: 1;">
              <h4>Bob Wilson</h4>
              <p style="color: var(--text-secondary); font-size: 0.875rem;">Let's discuss the hackathon</p>
            </div>
            <div style="color: var(--text-secondary); font-size: 0.75rem;">3h</div>
          </div>
        </div>

        <div class="chat-container">
          <div class="chat-header">
            <div class="avatar">T</div>
            <div>
              <h3>Tech Support</h3>
              <p style="color: var(--success-color); font-size: 0.875rem;">● Online</p>
            </div>
          </div>

          <div class="chat-messages" id="chatMessages">
            <div class="message">
              <div class="avatar">T</div>
              <div class="message-bubble">
                Welcome to KAN Platform! How can we assist you today?
              </div>
            </div>
            <div class="message sent">
              <div class="message-bubble">
                Hi! I need help with wallet setup.
              </div>
            </div>
            <div class="message">
              <div class="avatar">T</div>
              <div class="message-bubble">
                I'd be happy to help you set up your wallet. Let me guide you through the process step by step.
              </div>
            </div>
          </div>

          <div class="chat-input-container">
            <input type="text" class="chat-input" placeholder="Type your message..." id="messageInput">
            <button class="send-btn" onclick="sendMessage()">
              <span>→</span>
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Notifications Section -->
    <section class="section" id="notifications">
      <div class="section-header">
        <h1 class="section-title">Notifications</h1>
        <button class="mobile-menu-btn" onclick="toggleSidebar()">☰</button>
      </div>

      <!-- <div class="notification-filters">
        <button class="filter-btn active">All</button>
        <button class="filter-btn">Transactions</button>
        <button class="filter-btn">Social</button>
        <button class="filter-btn">System</button>
        <button class="filter-btn">Security</button>
      </div> -->

      <div class="notificationFeeds">
      <div class="notification">
        <div class="notification-icon success">✓</div>
        <div class="notification-content">
          <div class="notification-title">Transaction Confirmed</div>
          <div class="notification-text">Your transfer of 250 KDA has been successfully confirmed on the blockchain.</div>
          <div class="notification-time">2 hours ago</div>
        </div>
      </div>

      <div class="notification">
        <div class="notification-icon info">🚀</div>
        <div class="notification-content">
          <div class="notification-title">New Feature Available</div>
          <div class="notification-text">P2P marketplace is now live! Start trading KDA with users in your region.</div>
          <div class="notification-time">4 hours ago</div>
        </div>
      </div>

      <div class="notification">
        <div class="notification-icon warning">⚠️</div>
        <div class="notification-content">
          <div class="notification-title">Security Alert</div>
          <div class="notification-text">New login detected from Lagos, Nigeria. If this wasn't you, please secure your account.</div>
          <div class="notification-time">6 hours ago</div>
        </div>
      </div>

      <div class="notification">
        <div class="notification-icon info">👥</div>
        <div class="notification-content">
          <div class="notification-title">Community Update</div>
          <div class="notification-text">Alice liked your post about DeFi innovations in Africa.</div>
          <div class="notification-time">8 hours ago</div>
        </div>
      </div>

      <div class="notification">
        <div class="notification-icon success">💰</div>
        <div class="notification-content">
          <div class="notification-title">Staking Reward</div>
          <div class="notification-text">You earned 12.5 KDA in staking rewards from the KDA-USDC pool.</div>
          <div class="notification-time">1 day ago</div>
        </div>
      </div></div>
    </section>

    <!-- Community Section -->
    <section class="section" id="community">
            <div class="background-particles" id="particles"></div>
      <div class="section-header">
        <h1 class="section-title">Global Communities</h1>
        <button class="mobile-menu-btn" onclick="toggleSidebar()">☰</button>
      </div>

        <div class="community-grid">
            <div class="community-card" data-community="africa">
                <div class="activity-pulse"></div>
                <div class="community-header">
                    <div class="community-flag">🌍</div>
                    <div class="community-info">
                        <div class="community-name">Africa</div>
                        <div class="community-members">
                            <span class="online-indicator"></span>
                            15,234 members • 1,847 online
                        </div>
                    </div>
                </div>
                
                <div class="community-stats">
                    <div class="stat-item">
                        <span class="stat-number">1.2K</span>
                        <div class="stat-label">Active Now</div>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">427</span>
                        <div class="stat-label">Posts Today</div>
                    </div>
                </div>
                
                <div class="community-actions">
                    <button class="community-btn" onclick="joinCommunity(this, 'africa')">
                        Join Community
                    </button>
                    <button class="preview-btn" onclick="previewCommunity('africa')">
                        👁️
                    </button>
                </div>
            </div>

            <div class="community-card" data-community="asia">
                <div class="activity-pulse"></div>
                <div class="community-header">
                    <div class="community-flag">🌏</div>
                    <div class="community-info">
                        <div class="community-name">Asia</div>
                        <div class="community-members">
                            <span class="online-indicator"></span>
                            22,891 members • 2,156 online
                        </div>
                    </div>
                </div>
                
                <div class="community-stats">
                    <div class="stat-item">
                        <span class="stat-number">2.1K</span>
                        <div class="stat-label">Active Now</div>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">589</span>
                        <div class="stat-label">Posts Today</div>
                    </div>
                </div>
                
                <div class="community-actions">
                    <button class="community-btn" onclick="joinCommunity(this, 'asia')">
                        Join Community
                    </button>
                    <button class="preview-btn" onclick="previewCommunity('asia')">
                        👁️
                    </button>
                </div>
            </div>

            <div class="community-card" data-community="europe">
                <div class="activity-pulse"></div>
                <div class="community-header">
                    <div class="community-flag">🇪🇺</div>
                    <div class="community-info">
                        <div class="community-name">Europe</div>
                        <div class="community-members">
                            <span class="online-indicator"></span>
                            18,543 members • 1,234 online
                        </div>
                    </div>
                </div>
                
                <div class="community-stats">
                    <div class="stat-item">
                        <span class="stat-number">1.2K</span>
                        <div class="stat-label">Active Now</div>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">356</span>
                        <div class="stat-label">Posts Today</div>
                    </div>
                </div>
                
                <div class="community-actions">
                    <button class="community-btn" onclick="joinCommunity(this, 'europe')">
                        Join Community
                    </button>
                    <button class="preview-btn" onclick="previewCommunity('europe')">
                        👁️
                    </button>
                </div>
            </div>

            <div class="community-card" data-community="usa">
                <div class="activity-pulse"></div>
                <div class="community-header">
                    <div class="community-flag">🇺🇸</div>
                    <div class="community-info">
                        <div class="community-name">North America</div>
                        <div class="community-members">
                            <span class="online-indicator"></span>
                            19,756 members • 1,892 online
                        </div>
                    </div>
                </div>
                
                <div class="community-stats">
                    <div class="stat-item">
                        <span class="stat-number">1.9K</span>
                        <div class="stat-label">Active Now</div>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">445</span>
                        <div class="stat-label">Posts Today</div>
                    </div>
                </div>
                
                <div class="community-actions">
                    <button class="community-btn" onclick="joinCommunity(this, 'usa')">
                        Join Community
                    </button>
                    <button class="preview-btn" onclick="previewCommunity('usa')">
                        👁️
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Finance Section -->
    <section class="section" id="finance">
        <div class="floating-particles">
            <div class="particle" style="width: 4px; height: 4px; top: 20%; left: 10%; animation-delay: 0s;"></div>
            <div class="particle" style="width: 6px; height: 6px; top: 60%; left: 80%; animation-delay: 2s;"></div>
            <div class="particle" style="width: 3px; height: 3px; top: 80%; left: 30%; animation-delay: 4s;"></div>
            <div class="particle" style="width: 5px; height: 5px; top: 40%; left: 70%; animation-delay: 1s;"></div>
            <div class="particle" style="width: 4px; height: 4px; top: 10%; left: 50%; animation-delay: 3s;"></div>
        </div>
        <div class="section-header">
            <h1 class="section-title">My finance</h1>
            <button class="mobile-menu-btn" onclick="toggleSidebar()">☰</button>
        </div>

        <div class="subsection-nav">
            <div class="nav-tab active" data-section="bills">Pay Bills</div>
            <div class="nav-tab" data-section="staking">Staking</div>
            <div class="nav-tab" data-section="savings">Savings</div>
        </div>

        <!-- Pay Bills Subsection -->
        <div class="subsection active" id="bills">
            <div class="bills-grid">
                <div class="bills-left">
                    <div class="quick-pay-card">
                        <h3 class="card-title">⚡ Quick Pay</h3>
                        <div class="bill-form">
                            <div class="form-group">
                                <select class="form-select" id="billType">
                                    <option>Select Bill Type</option>
                                    <option>⚡ Electricity (PHCN, Ikeja Electric)</option>
                                    <option>📺 Cable TV (DSTV, GOtv, Startimes)</option>
                                    <option>🌐 Internet (Spectranet, Swift, Airtel)</option>
                                    <option>📱 Mobile Airtime</option>
                                    <option>💧 Water Bills</option>
                                    <option>🏠 Property Tax</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-input" placeholder="Account Number / Phone Number" />
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-input amount-input" placeholder="₦ 0.00" />
                            </div>
                            <button class="btn btn-primary" onclick="processPayment()">Pay Now with KDA</button>
                        </div>
                    </div>

                    <div class="quick-pay-card">
                        <h3 class="card-title">📊 Smart Analytics</h3>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem;">
                            <div class="info-item">
                                <div class="info-value">₦52K</div>
                                <div class="info-label">This Month</div>
                            </div>
                            <div class="info-item">
                                <div class="info-value">₦620K</div>
                                <div class="info-label">This Year</div>
                            </div>
                            <div class="info-item">
                                <div class="info-value">12%</div>
                                <div class="info-label">KDA Cashback</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="recent-bills">
                    <h3 class="card-title">📋 Recent Transactions</h3>
                    <div class="bill-item">
                        <div class="bill-info">
                            <div class="bill-name">⚡ Ikeja Electric</div>
                            <div class="bill-date">Today, 2:30 PM</div>
                        </div>
                        <div class="bill-amount">₦15,000</div>
                    </div>
                    <div class="bill-item">
                        <div class="bill-info">
                            <div class="bill-name">📺 DSTV Premium</div>
                            <div class="bill-date">Yesterday, 10:15 AM</div>
                        </div>
                        <div class="bill-amount">₦21,000</div>
                    </div>
                    <div class="bill-item">
                        <div class="bill-info">
                            <div class="bill-name">📱 MTN Airtime</div>
                            <div class="bill-date">2 days ago</div>
                        </div>
                        <div class="bill-amount">₦2,000</div>
                    </div>
                    <div class="bill-item">
                        <div class="bill-info">
                            <div class="bill-name">🌐 Spectranet</div>
                            <div class="bill-date">3 days ago</div>
                        </div>
                        <div class="bill-amount">₦8,500</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Staking Subsection -->
        <div class="subsection" id="staking">
            <div class="staking-dashboard">
                <div class="staking-main">
                    <div class="staking-pool">
                        <div class="pool-header">
                            <div>
                                <h3 class="card-title">🚀 KDA Mega Pool</h3>
                                <p>Stake your KDA and earn passive income</p>
                            </div>
                            <div class="pool-apy">24.5%</div>
                        </div>
                        
                        <div class="pool-info">
                            <div class="info-item">
                                <div class="info-value">1.2M KDA</div>
                                <div class="info-label">Total Staked</div>
                            </div>
                            <div class="info-item">
                                <div class="info-value">8,432</div>
                                <div class="info-label">Active Stakers</div>
                            </div>
                            <div class="info-item">
                                <div class="info-value">30 Days</div>
                                <div class="info-label">Lock Period</div>
                            </div>
                        </div>

                        <div class="staking-form">
                            <div class="form-group" style="flex: 1;">
                                <input type="text" class="form-input" placeholder="Enter KDA amount to stake" />
                            </div>
                            <button class="btn btn-primary">Stake KDA</button>
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 2rem;">
                        <div class="staking-pool">
                            <h3 class="card-title">⚡ Flash Pool</h3>
                            <div class="pool-apy" style="font-size: 2rem;">45.8%</div>
                            <p>High-risk, high-reward. 7-day lock.</p>
                            <button class="btn">Join Flash Pool</button>
                        </div>
                        <div class="staking-pool">
                            <h3 class="card-title">🛡️ Safe Pool</h3>
                            <div class="pool-apy" style="font-size: 2rem;">12.3%</div>
                            <p>Low-risk, stable returns. No lock period.</p>
                            <button class="btn">Join Safe Pool</button>
                        </div>
                    </div>
                </div>

                <div class="staking-sidebar">
                    <div class="rewards-card">
                        <h3>🎁 Your Rewards</h3>
                        <div class="rewards-amount">847.2 KDA</div>
                        <p>Earned this month</p>
                        <button class="btn">Claim Rewards</button>
                    </div>

                    <div class="leaderboard">
                        <h3 class="card-title">🏆 Top Stakers</h3>
                        <div class="leaderboard-item">
                            <div style="display: flex; align-items: center; gap: 1rem;">
                                <div class="rank">1</div>
                                <span>CryptoKing</span>
                            </div>
                            <span>50K KDA</span>
                        </div>
                        <div class="leaderboard-item">
                            <div style="display: flex; align-items: center; gap: 1rem;">
                                <div class="rank">2</div>
                                <span>AfricaHodler</span>
                            </div>
                            <span>42K KDA</span>
                        </div>
                        <div class="leaderboard-item">
                            <div style="display: flex; align-items: center; gap: 1rem;">
                                <div class="rank">3</div>
                                <span>LagosTrader</span>
                            </div>
                            <span>38K KDA</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Savings Subsection -->
        <div class="subsection" id="savings">
            <div class="savings-layout">
                <div class="savings-plans">
                    <div class="savings-plan">
                        <div class="plan-badge">POPULAR</div>
                        <h3 class="plan-title">💎 Diamond Saver</h3>
                        <div style="font-size: 2rem; font-weight: bold; color: var(--accent-color);">18.5% APY</div>
                        <ul class="plan-features">
                            <li>Compound interest daily</li>
                            <li>Flexible withdrawals</li>
                            <li>Insurance protected</li>
                            <li>Mobile money integration</li>
                        </ul>
                        <button class="btn btn-primary">Start Saving</button>
                    </div>

                    <div class="savings-plan">
                        <div class="plan-badge">NEW</div>
                        <h3 class="plan-title">🎯 Goal Saver</h3>
                        <div style="font-size: 2rem; font-weight: bold; color: var(--success-color);">22.3% APY</div>
                        <ul class="plan-features">
                            <li>Set custom savings goals</li>
                            <li>Auto-save from bills cashback</li>
                            <li>Milestone rewards</li>
                            <li>Social savings challenges</li>
                        </ul>
                        <button class="btn btn-primary">Set Goal</button>
                    </div>

                    <div class="savings-plan">
                        <h3 class="plan-title">🚀 Turbo Saver</h3>
                        <div style="font-size: 2rem; font-weight: bold; color: var(--warning-color);">35.8% APY</div>
                        <ul class="plan-features">
                            <li>High-yield DeFi integration</li>
                            <li>Smart contract secured</li>
                            <li>Weekly compounding</li>
                            <li>Advanced analytics</li>
                        </ul>
                        <button class="btn btn-primary">Turbo Save</button>
                    </div>
                </div>

                <div class="savings-tracker">
                    <h3 class="card-title">📈 Savings Dashboard</h3>
                    
                    <div class="goal-progress">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                            <span>House Fund Goal</span>
                            <span>₦2.4M / ₦5M</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 48%; --progress: 48%;"></div>
                        </div>
                    </div>

                    <div class="goal-stats">
                        <div class="stat-card">
                            <div style="font-size: 1.5rem; color: var(--accent-color); font-weight: bold;">₦2.4M</div>
                            <div style="color: var(--text-secondary);">Total Saved</div>
                        </div>
                        <div class="stat-card">
                            <div style="font-size: 1.5rem; color: var(--success-color); font-weight: bold;">₦285K</div>
                            <div style="color: var(--text-secondary);">Interest Earned</div>
                        </div>
                        <div class="stat-card">
                            <div style="font-size: 1.5rem; color: var(--warning-color); font-weight: bold;">14</div>
                            <div style="color: var(--text-secondary);">Months Active</div>
                        </div>
                        <div class="stat-card">
                            <div style="font-size: 1.5rem; color: var(--accent-secondary); font-weight: bold;">18.5%</div>
                            <div style="color: var(--text-secondary);">Avg. APY</div>
                        </div>
                    </div>

                    <div style="margin-top: 2rem;">
                        <h4 style="color: var(--accent-color); margin-bottom: 1rem;">🎯 Quick Actions</h4>
                        <div style="display: grid; gap: 0.5rem;">
                            <button class="btn">Add ₦50K to Goal</button>
                            <button class="btn">Create New Savings Goal</button>
                            <button class="btn">View Detailed Analytics</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Account Section -->
    <section class="section" id="account">
      <div class="section-header">
        <h1 class="section-title">My Account</h1>
        <button class="mobile-menu-btn" onclick="toggleSidebar()">☰</button>
      </div>

      <div class="account-tabs">
        <button class="account-tab active" onclick="switchAccountTab('profile')">Profile</button>
        <button class="account-tab" onclick="switchAccountTab('settings')">Settings</button>
        <button class="account-tab" onclick="switchAccountTab('security')">Security</button>
      </div>

      <div id="account-profile" class="account-content">
        <div class="profile-section">
          <div class="profile-header">
            <div class="profile-avatar">E</div>
            <div class="profile-info">
              <h2>Emmanuel Okonkwo</h2>
              <p style="color: var(--text-secondary);">KAN Pioneer Member</p>
              <div style="display: flex; gap: 1rem; margin-top: 1rem;">
                <button class="btn">Edit Profile</button>
                <button class="btn secondary">Share Profile</button>
              </div>
            </div>
          </div>

          <div class="profile-stats">
            <div class="profile-stat">
              <div class="stat-value">12,450</div>
              <div class="stat-label">KDA Balance</div>
            </div>
            <div class="profile-stat">
              <div class="stat-value">156</div>
              <div class="stat-label">Transactions</div>
            </div>
            <div class="profile-stat">
              <div class="stat-value">89</div>
              <div class="stat-label">Social Posts</div>
            </div>
            <div class="profile-stat">
              <div class="stat-value">45</div>
              <div class="stat-label">Communities</div>
            </div>
          </div>

          <div style="margin-top: 2rem;">
            <h3 style="margin-bottom: 1rem;">Account Information</h3>
            <div class="form-group">
              <label class="form-label">Email Address</label>
              <input type="email" class="form-input" value="emmanuel@example.com" readonly>
            </div>
            <div class="form-group">
              <label class="form-label">Phone Number</label>
              <input type="tel" class="form-input" value="+234 801 234 5678" readonly>
            </div>
            <div class="form-group">
              <label class="form-label">Location</label>
              <input type="text" class="form-input" value="Lagos, Nigeria" readonly>
            </div>
          </div>
        </div>
      </div>

      <div id="account-settings" class="account-content" style="display: none;">
        <div class="profile-section">
          <h3 style="margin-bottom: 2rem;">General Settings</h3>
          
          <div class="form-group">
            <label class="form-label">Theme</label>
            <select class="form-input">
              <option>Dark Mode</option>
              <option>Light Mode</option>
              <option>Auto</option>
            </select>
          </div>

          <div class="form-group">
            <label class="form-label">Language</label>
            <select class="form-input">
              <option>English</option>
              <option>Yoruba</option>
              <option>Igbo</option>
              <option>Hausa</option>
            </select>
          </div>

          <div class="form-group">
            <label class="form-label">Currency Display</label>
            <select class="form-input">
              <option>Nigerian Naira (₦)</option>
              <option>US Dollar ($)</option>
              <option>KDA</option>
            </select>
          </div>

          <div class="form-group">
            <div style="display: flex; justify-content: space-between; align-items: center;">
              <div>
                <label class="form-label" style="margin-bottom: 0;">Email Notifications</label>
                <p style="color: var(--text-secondary); font-size: 0.875rem;">Receive email updates about transactions and activity</p>
              </div>
              <input type="checkbox" checked style="transform: scale(1.5);">
            </div>
          </div>

          <div class="form-group">
            <div style="display: flex; justify-content: space-between; align-items: center;">
              <div>
                <label class="form-label" style="margin-bottom: 0;">Push Notifications</label>
                <p style="color: var(--text-secondary); font-size: 0.875rem;">Get notified about important account activity</p>
              </div>
              <input type="checkbox" checked style="transform: scale(1.5);">
            </div>
          </div>

          <div style="margin-top: 2rem;">
            <button class="btn">Save Settings</button>
          </div>
        </div>
      </div>

      <div id="account-security" class="account-content" style="display: none;">
        <div class="profile-section">
          <h3 style="margin-bottom: 2rem;">Security Settings</h3>
          
          <div class="form-group">
            <label class="form-label">Current Password</label>
            <input type="password" class="form-input" placeholder="Enter current password">
          </div>

          <div class="form-group">
            <label class="form-label">New Password</label>
            <input type="password" class="form-input" placeholder="Enter new password">
          </div>

          <div class="form-group">
            <label class="form-label">Confirm Password</label>
            <input type="password" class="form-input" placeholder="Confirm new password">
          </div>

          <div class="form-group">
            <div style="display: flex; justify-content: space-between; align-items: center;">
              <div>
                <label class="form-label" style="margin-bottom: 0;">Two-Factor Authentication</label>
                <p style="color: var(--text-secondary); font-size: 0.875rem;">Add an extra layer of security to your account</p>
              </div>
              <button class="btn secondary">Enable 2FA</button>
            </div>
          </div>

          <div style="background: var(--bg-secondary); padding: 1.5rem; border-radius: 12px; margin: 2rem 0;">
            <h4 style="color: var(--accent-color); margin-bottom: 1rem;">Active Sessions</h4>
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
              <div>
                <div>Lagos, Nigeria</div>
                <div style="color: var(--text-secondary); font-size: 0.875rem;">Current session • Chrome</div>
              </div>
              <div style="color: var(--success-color); font-size: 0.875rem;">Active</div>
            </div>
            <div style="display: flex; justify-content: space-between; align-items: center;">
              <div>
                <div>Abuja, Nigeria</div>
                <div style="color: var(--text-secondary); font-size: 0.875rem;">2 days ago • Mobile</div>
              </div>
              <button style="background: var(--error-color); border: none; color: white; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer;">Revoke</button>
            </div>
          </div>

          <div style="margin-top: 2rem;">
            <button class="btn">Update Security</button>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Community Chat Modal -->
  <div class="community-modal" id="communityModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="communityName">Africa Community</h3>
        <button class="close-btn" onclick="closeCommunityChat()">&times;</button>
      </div>
      <div class="chat-messages" id="communityMessages" style="flex: 1; padding: 1.5rem; overflow-y: auto;">
        <div class="message">
          <div class="avatar">A</div>
          <div class="message-bubble">
            Welcome to the Africa community! 🌍
          </div>
        </div>
        <div class="message">
          <div class="avatar">B</div>
          <div class="message-bubble">
            Excited to be part of the blockchain revolution in Africa!
          </div>
        </div>
      </div>
      <div class="chat-input-container">
        <input type="text" class="chat-input" placeholder="Message the community..." id="communityInput">
        <button class="send-btn" onclick="sendCommunityMessage()">
          <span>→</span>
        </button>
      </div>
    </div>
  </div>
<script>
 // ========================================
// GLOBAL VARIABLES & STATE MANAGEMENT
// ========================================

let currentSection = 'dashboard';
let currentWalletTab = 'overview';
let currentAccountTab = 'profile';
let joinedCommunities = new Set();
let mainChart = null;
let networkChart = null;
let defiChart = null;
let adoptionChart = null;

// ========================================
// NAVIGATION FUNCTIONS
// ========================================

function showSection(sectionId) {
    // Hide all sections
    document.querySelectorAll('.section').forEach(section => {
        section.classList.remove('active');
    });
    
    // Show selected section
    document.getElementById(sectionId).classList.add('active');
    
    // Update navigation
    document.querySelectorAll('.nav-link').forEach(link => {
        link.classList.remove('active');
    });
    event.target.classList.add('active');
    
    currentSection = sectionId;
    
    // Handle responsive design for social section
    if (sectionId === 'social') {
        const trending = document.getElementById('trendingDesktop');
        if (window.innerWidth > 1200) {
            trending.style.display = 'block';
            document.querySelector('.social-layout').style.gridTemplateColumns = '2fr 1fr';
        }
    }
    
    // Close sidebar on mobile
    if (window.innerWidth <= 768) {
        document.getElementById('sidebar').classList.remove('active');
    }
}

function toggleSidebar() {
    const sidebar = document.getElementById('sidebar');
    const mainContent = document.getElementById('mainContent');
    
    sidebar.classList.toggle('active');
    
    if (window.innerWidth > 768) {
        sidebar.classList.toggle('hidden');
        mainContent.classList.toggle('expanded');
    }
}

// ========================================
// TAB SWITCHING FUNCTIONS
// ========================================

function switchWalletTab(tabId) {
    // Hide all wallet content
    document.querySelectorAll('.wallet-content').forEach(content => {
        content.style.display = 'none';
    });
    
    // Show selected content
    document.getElementById(`wallet-${tabId}`).style.display = 'block';
    
    // Update tab buttons
    document.querySelectorAll('.wallet-tab').forEach(tab => {
        tab.classList.remove('active');
    });
    event.target.classList.add('active');
    
    currentWalletTab = tabId;
}

function switchAccountTab(tabId) {
    // Hide all account content
    document.querySelectorAll('.account-content').forEach(content => {
        content.style.display = 'none';
    });
    
    // Show selected content
    document.getElementById(`account-${tabId}`).style.display = 'block';
    
    // Update tab buttons
    document.querySelectorAll('.account-tab').forEach(tab => {
        tab.classList.remove('active');
    });
    event.target.classList.add('active');
    
    currentAccountTab = tabId;
}

// ========================================
// COMMUNITY FUNCTIONS
// ========================================

function joinCommunity(button, communityId) {
    if (joinedCommunities.has(communityId)) {
        openCommunityChat(communityId);
    } else {
        // Join community
        joinedCommunities.add(communityId);
        button.textContent = 'Go to Community';
        button.classList.add('joined');
        
        // Animate button
        button.style.transform = 'scale(0.95)';
        setTimeout(() => {
            button.style.transform = 'scale(1)';
        }, 150);
    }
}

function openCommunityChat(communityId) {
    const modal = document.getElementById('communityModal');
    const communityNames = {
        'africa': 'Africa Community',
        'usa': 'USA Community', 
        'asia': 'Asia Community',
        'europe': 'Europe Community'
    };
    
    document.getElementById('communityName').textContent = communityNames[communityId] || 'Community';
    modal.style.display = 'flex';
}

function closeCommunityChat() {
    document.getElementById('communityModal').style.display = 'none';
}

function sendCommunityMessage() {
    const input = document.getElementById('communityInput');
    const message = input.value.trim();
    
    if (message) {
        const messagesContainer = document.getElementById('communityMessages');
        
        // Create message element
        const messageDiv = document.createElement('div');
        messageDiv.className = 'message sent';
        messageDiv.innerHTML = `<div class="message-bubble">${message}</div>`;
        
        messagesContainer.appendChild(messageDiv);
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
        
        input.value = '';
        
        // Simulate response
        setTimeout(() => {
            const responseDiv = document.createElement('div');
            responseDiv.className = 'message';
            responseDiv.innerHTML = `
                <div class="avatar">👥</div>
                <div class="message-bubble">Thanks for sharing! Great to have you in the community.</div>
            `;
            messagesContainer.appendChild(responseDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }, 2000);
    }
}

// ========================================
// MESSAGING FUNCTIONS
// ========================================

function sendMessage() {
    const input = document.getElementById('messageInput');
    const message = input.value.trim();
    
    if (message) {
        const messagesContainer = document.getElementById('chatMessages');
        
        // Create message element
        const messageDiv = document.createElement('div');
        messageDiv.className = 'message sent';
        messageDiv.innerHTML = `<div class="message-bubble">${message}</div>`;
        
        messagesContainer.appendChild(messageDiv);
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
        
        input.value = '';
        
        // Simulate response
        setTimeout(() => {
            const responseDiv = document.createElement('div');
            responseDiv.className = 'message';
            responseDiv.innerHTML = `
                <div class="avatar">T</div>
                <div class="message-bubble">I understand. Let me help you with that right away.</div>
            `;
            messagesContainer.appendChild(responseDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }, 1000);
    }
}

// ========================================
// MARKET DATA & SIDEBAR
// ========================================

function initializeMarketData() {
    const marketData = [
        { symbol: 'BTC', price: 50000, change: 2.5 },
        { symbol: 'ETH', price: 3000, change: -1.2 },
        { symbol: 'ADA', price: 1.5, change: 0.8 },
    ];

    const marketContainer = document.querySelector('.sidebar-mini-market');
    if (!marketContainer) return;

    marketContainer.innerHTML = '<h4>Market Snapshot</h4>';

    marketData.slice(0, 3).forEach(coin => {
        const item = document.createElement('div');
        item.className = 'mini-market-item';
        item.innerHTML = `
            <span>${coin.symbol}</span>
            <span>$${coin.price.toLocaleString()}</span>
            <span class="${coin.change > 0 ? 'positive' : 'negative'}">${coin.change}%</span>
        `;
        marketContainer.appendChild(item);
    });
}

// ========================================
// CHART INITIALIZATION & MANAGEMENT
// ========================================

function initCharts() {
    Chart.defaults.color = '#888888';
    Chart.defaults.borderColor = 'rgba(255, 255, 255, 0.08)';

    const priceData = generatePriceData();
    const labels = generateTimeLabels();

    initMainChart(priceData, labels);
    initNetworkChart();
    initDefiChart();
    initAdoptionChart();
    
    startLiveUpdates();
}

function generatePriceData() {
    const priceData = [];
    const basePrice = 0.4285;
    const now = Date.now();
    
    for (let i = 48; i >= 0; i--) {
        const variation = (Math.random() - 0.5) * 0.06;
        const trend = Math.sin(i / 8) * 0.02;
        const volatility = Math.sin(i / 3) * 0.01;
        const price = Math.max(0.001, basePrice + variation + trend + volatility);
        priceData.push(price);
    }
    
    return priceData;
}

function generateTimeLabels() {
    const labels = [];
    const now = Date.now();
    
    for (let i = 48; i >= 0; i--) {
        const time = new Date(now - (i * 30 * 60 * 1000));
        labels.push(time.toLocaleTimeString('en-US', { 
            hour: '2-digit', 
            minute: '2-digit' 
        }));
    }
    
    return labels;
}

function initMainChart(priceData, labels) {
    const canvas = document.getElementById('mainChart');
    if (!canvas) {
        console.error('Main chart canvas not found!');
        return;
    }
    
    const ctx = canvas.getContext('2d');
    if (!ctx) {
        console.error('Could not get canvas context!');
        return;
    }

    mainChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: labels,
            datasets: [{
                label: 'KDA/USD',
                data: priceData,
                borderColor: '#ff0080',
                backgroundColor: 'rgba(255, 0, 128, 0.15)',
                borderWidth: 3,
                fill: true,
                tension: 0.4,
                pointRadius: 0,
                pointHoverRadius: 6,
                pointBackgroundColor: '#ff0080',
                pointBorderColor: '#fff',
                pointBorderWidth: 2
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            animation: { duration: 0 },
            plugins: {
                legend: { display: false },
                tooltip: {
                    backgroundColor: 'rgba(0, 0, 0, 0.9)',
                    titleColor: '#fff',
                    bodyColor: '#fff',
                    borderColor: '#ff0080',
                    borderWidth: 1,
                    cornerRadius: 8,
                    displayColors: false,
                    titleFont: { size: 12, weight: 'bold' },
                    bodyFont: { size: 14, weight: 'bold' },
                    padding: 10,
                    callbacks: {
                        title: () => 'KDA Price',
                        label: (context) => '$' + context.parsed.y.toFixed(4)
                    }
                }
            },
            scales: {
                x: {
                    display: true,
                    grid: { 
                        color: 'rgba(255, 255, 255, 0.05)',
                        drawBorder: false
                    },
                    ticks: {
                        color: '#666',
                        font: { size: 9 },
                        maxTicksLimit: window.innerWidth < 768 ? 4 : 8,
                        callback: function(value, index) {
                            return index % (window.innerWidth < 768 ? 12 : 6) === 0 ? this.getLabelForValue(value) : '';
                        }
                    }
                },
                y: {
                    display: true,
                    position: 'right',
                    grid: { 
                        color: 'rgba(255, 255, 255, 0.05)',
                        drawBorder: false
                    },
                    ticks: {
                        color: '#666',
                        font: { size: 9 },
                        maxTicksLimit: 5,
                        callback: function(value) {
                            return '$' + value.toFixed(4);
                        }
                    }
                }
            },
            interaction: {
                intersect: false,
                mode: 'index'
            }
        }
    });
}

function initNetworkChart() {
    const netCtx = document.getElementById('networkChart')?.getContext('2d');
    if (!netCtx) return;

    const networkData = Array.from({length: 12}, () => Math.floor(Math.random() * 1200) + 800);
    
    networkChart = new Chart(netCtx, {
        type: 'line',
        data: {
            labels: Array.from({length: 12}, (_, i) => i + 'h'),
            datasets: [{
                data: networkData,
                borderColor: '#00ff88',
                backgroundColor: 'rgba(0, 255, 136, 0.2)',
                borderWidth: 2,
                fill: true,
                tension: 0.4,
                pointRadius: 0
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { display: false } },
            scales: { 
                x: { display: false }, 
                y: { display: false } 
            }
        }
    });
}

function initDefiChart() {
    const defiCtx = document.getElementById('defiChart')?.getContext('2d');
    if (!defiCtx) return;

    const defiData = [45.7, 47.2, 46.8, 48.1, 49.3, 47.9, 45.7];
    
    defiChart = new Chart(defiCtx, {
        type: 'bar',
        data: {
            labels: ['M', 'T', 'W', 'T', 'F', 'S', 'S'],
            datasets: [{
                data: defiData,
                backgroundColor: 'rgba(121, 40, 202, 0.4)',
                borderColor: '#7928ca',
                borderWidth: 1,
                borderRadius: 2
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { display: false } },
            scales: { 
                x: { display: false }, 
                y: { display: false } 
            }
        }
    });
}

function initAdoptionChart() {
    const adoptCtx = document.getElementById('adoptionChart')?.getContext('2d');
    if (!adoptCtx) return;

    adoptionChart = new Chart(adoptCtx, {
        type: 'doughnut',
        data: {
            datasets: [{
                data: [60, 25, 15],
                backgroundColor: ['#ff0080', '#7928ca', '#00ff88'],
                borderWidth: 0,
                cutout: '60%'
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { 
                legend: { display: false },
                tooltip: { enabled: false }
            }
        }
    });
}

// ========================================
// REAL-TIME DATA UPDATES
// ========================================

function startLiveUpdates() {
    // Update main chart data every 3 seconds
    setInterval(() => {
        updateMainChart();
    }, 3000);

    // Update network stats every 5 seconds
    setInterval(() => {
        updateNetworkChart();
    }, 5000);

    // Update UI stats every 4 seconds
    setInterval(() => {
        updateUIStats();
    }, 4000);
}

function updateMainChart() {
    if (!mainChart) return;
    
    const data = mainChart.data.datasets[0].data;
    const lastPrice = data[data.length - 1];
    const variation = (Math.random() - 0.5) * 0.02;
    const newPrice = Math.max(0.001, lastPrice + variation);
    
    // Remove first point and add new one
    data.shift();
    data.push(newPrice);
    
    // Update labels
    const labels = mainChart.data.labels;
    labels.shift();
    labels.push(new Date().toLocaleTimeString('en-US', { 
        hour: '2-digit', 
        minute: '2-digit' 
    }));
    
    // Update price display
    const priceEl = document.getElementById('price');
    if (priceEl) {
        priceEl.textContent = `$${newPrice.toFixed(4)}`;
    }
    
    mainChart.update('none');
}

function updateNetworkChart() {
    if (!networkChart) return;
    
    const data = networkChart.data.datasets[0].data;
    data.shift();
    data.push(Math.floor(Math.random() * 1200) + 800);
    networkChart.update('none');
}

function updateUIStats() {
    const elements = document.querySelectorAll('.pulse');
    elements.forEach(el => {
        if (el.textContent.includes('TPS')) {
            const current = parseInt(el.textContent.replace(/[^0-9]/g, ''));
            const change = Math.floor((Math.random() - 0.5) * 200);
            el.textContent = `${Math.max(800, current + change)} TPS`;
        }
        if (el.textContent.includes(',')) {
            const current = parseInt(el.textContent.replace(/[^0-9]/g, ''));
            const change = Math.floor((Math.random() - 0.5) * 100);
            el.textContent = (current + change).toLocaleString();
        }
    });
}

// ========================================
// DATA SIMULATION FUNCTIONS
// ========================================

function simulateDataUpdates() {
    // Price fluctuations every 2 seconds
    setInterval(() => {
        updatePriceData();
    }, 2000);

    // Volume changes every 7 seconds
    setInterval(() => {
        updateVolumeData();
    }, 7000);

    // Market cap changes every 9 seconds
    setInterval(() => {
        updateMarketCapData();
    }, 9000);
}

function updatePriceData() {
    const priceEl = document.getElementById('price');
    if (!priceEl) return;
    
    const currentPrice = parseFloat(priceEl.textContent.replace('$', ''));
    const variation = (Math.random() - 0.5) * 0.01;
    const newPrice = Math.max(0.001, currentPrice + variation);
    priceEl.textContent = `$${newPrice.toFixed(4)}`;

    // Update change percentage
    const changeEl = document.getElementById('priceChange');
    if (changeEl) {
        const change = ((newPrice - 0.4285) / 0.4285) * 100;
        changeEl.textContent = `${change > 0 ? '+' : ''}${change.toFixed(1)}%`;
        changeEl.className = `stat-change ${change > 0 ? 'positive' : 'negative'}`;
    }
}

function updateVolumeData() {
    const volumeEl = document.getElementById('volume');
    if (!volumeEl) return;
    
    const base = 14.2;
    const variation = (Math.random() - 0.5) * 4;
    const newVolume = Math.max(1, base + variation);
    volumeEl.textContent = `$${newVolume.toFixed(1)}M`;
}

function updateMarketCapData() {
    const capEl = document.getElementById('marketCap');
    if (!capEl) return;
    
    const base = 1.08;
    const variation = (Math.random() - 0.5) * 0.2;
    const newCap = Math.max(0.1, base + variation);
    capEl.textContent = `$${newCap.toFixed(2)}B`;
}

// ========================================
// TRADING FUNCTIONS
// ========================================

function trade(type) {
    const btn = event.target;
    const original = btn.textContent;
    btn.textContent = '...';
    btn.disabled = true;
    
    setTimeout(() => {
        btn.textContent = '✓';
        setTimeout(() => {
            btn.textContent = original;
            btn.disabled = false;
        }, 1500);
    }, 1000);
}

function stake() {
    alert('Staking: 15.8% APY | 30 day lock');
}

function swap() {
    alert('Swap: KDA ↔ USDC, ETH, BTC');
}

// ========================================
// SOCIAL SECTION DATA & FUNCTIONS
// ========================================

const postsData = {
    1: {
        user: '@Alice_Blockchain',
        avatar: 'A',
        time: '2 hours ago',
        content: 'Just bridged 1000 KDA to the new DeFi protocol! 🚀 #KDA #DeFi',
        likes: 234,
        comments: [
            { 
                id: 1, 
                user: '@CryptoFan', 
                avatar: 'C', 
                time: '1h ago', 
                content: 'Amazing! Which protocol?', 
                likes: 12, 
                replies: [
                    { id: 1, user: '@Alice_Blockchain', avatar: 'A', time: '30m ago', content: 'The new KDA-USDC pool!', likes: 5 }
                ]
            },
            { id: 2, user: '@TechGuru', avatar: 'T', time: '45m ago', content: 'Great move! 🚀', likes: 8, replies: [] }
        ]
    },
    2: {
        user: '@BlockchainBob',
        avatar: 'B',
        time: '4 hours ago',
        content: 'Building the next gen dApp on Kadena! Who\'s ready for beta? 🔥',
        likes: 156,
        comments: [
            { id: 3, user: '@DevStar', avatar: 'D', time: '2h ago', content: 'Count me in!', likes: 10, replies: [] }
        ]
    }
};

function initializeSocialSection() {
    initializeSubnavTabs();
    initializePostInteractions();
    initializeLikeButtons();
    initializeCommentButtons();
}

function initializeSubnavTabs() {
    document.querySelectorAll('.subnav-tab').forEach(tab => {
        tab.addEventListener('click', () => {
            document.querySelectorAll('.subnav-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.social-content').forEach(c => c.classList.remove('active'));
            tab.classList.add('active');
            document.querySelector(`.social-content.${tab.dataset.tab}`).classList.add('active');
            
            updateTrendingSidebar(tab.dataset.tab);
        });
    });
}

function updateTrendingSidebar(tabType) {
    const trendingTitle = document.getElementById('trendingTitle');
    const trendingSidebar = document.querySelector('.trending-sidebar');
    
    if (!trendingTitle || !trendingSidebar) return;
    
    if (tabType === 'livestream') {
        trendingTitle.textContent = '📹 Trending Live Streams';
        trendingSidebar.innerHTML = `
            <h3 id="trendingTitle">📹 Trending Live Streams</h3>
            <div class="trending-item">
                <div class="trending-topic">KDA DeFi Discussion</div>
                <div class="trending-count">1,245 viewers</div>
            </div>
            <div class="trending-item">
                <div class="trending-topic">Kadena Dev Q&A</div>
                <div class="trending-count">892 viewers</div>
            </div>
        `;
    } else {
        trendingTitle.textContent = '🔥 Trending';
        trendingSidebar.innerHTML = `
            <h3 id="trendingTitle">🔥 Trending</h3>
            <div class="trending-item">
                <div class="trending-topic">#KDAToTheMoon</div>
                <div class="trending-count">12.4K posts</div>
            </div>
            <div class="trending-item">
                <div class="trending-topic">#DeFiRevolution</div>
                <div class="trending-count">8.9K posts</div>
            </div>
        `;
    }
}

function initializePostInteractions() {
    document.querySelectorAll('.post').forEach(post => {
        post.addEventListener('click', () => {
            const postId = post.dataset.postId;
            openPostModal(postId);
        });
    });
}

function initializeLikeButtons() {
    document.querySelectorAll('.like-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
            e.stopPropagation();
            toggleLike(btn);
        });
    });
}

function initializeCommentButtons() {
    document.querySelectorAll('.comment-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
            e.stopPropagation();
            const post = btn.closest('.post');
            openPostModal(post.dataset.postId);
        });
    });
}

function toggleLike(btn) {
    const isLiked = btn.dataset.liked === 'true';
    const countSpan = btn.querySelector('.count');
    let count = parseInt(countSpan.textContent);
    
    if (isLiked) {
        btn.classList.remove('liked');
        btn.dataset.liked = 'false';
        count--;
    } else {
        btn.classList.add('liked');
        btn.dataset.liked = 'true';
        count++;
    }
    
    countSpan.textContent = count;
}

// ========================================
// MODAL FUNCTIONS
// ========================================

function openPostModal(postId) {
    const postData = postsData[postId];
    if (!postData) return;
    
    const modal = document.getElementById('postModal');
    const modalPostContent = document.getElementById('modalPostContent');
    const commentsList = document.getElementById('commentsList');
    
    if (!modal || !modalPostContent || !commentsList) return;

    // Render post content
    modalPostContent.innerHTML = createPostHTML(postData);
    
    // Render comments
    commentsList.innerHTML = postData.comments.map(comment => createCommentHTML(comment)).join('');

    // Attach event listeners
    attachModalEventListeners(modalPostContent, commentsList);
    
    modal.style.display = 'flex';
}

function createPostHTML(postData) {
    return `
        <div class="post">
            <div class="post-header">
                <div class="avatar">${postData.avatar}</div>
                <div>
                    <h4>${postData.user}</h4>
                    <p class="post-time">${postData.time}</p>
                </div>
            </div>
            <p>${postData.content}</p>
            <div class="post-actions">
                <button class="action-btn like-btn" data-liked="false">
                    <span class="icon">❤️</span> 
                    <span class="count">${postData.likes}</span>
                </button>
                <button class="action-btn comment-btn">
                    <span class="icon">💬</span> 
                    <span class="count">${postData.comments.length}</span>
                </button>
                <button class="action-btn share-btn">
                    <span class="icon">🔄</span> 
                    <span class="count">78</span>
                </button>
            </div>
        </div>
    `;
}

function createCommentHTML(comment) {
    const repliesHTML = comment.replies.length > 0 ? `
        <div class="replies">
            ${comment.replies.map(reply => `
                <div class="comment reply" data-reply-id="${reply.id}">
                    <div class="comment-header">
                        <div class="avatar">${reply.avatar}</div>
                        <div>
                            <h5>${reply.user}</h5>
                            <p class="comment-time">${reply.time}</p>
                        </div>
                    </div>
                    <p>${reply.content}</p>
                    <div class="comment-actions">
                        <button class="comment-action-btn like-btn" data-liked="false">
                            <span class="icon">❤️</span> 
                            <span class="count">${reply.likes}</span>
                        </button>
                    </div>
                </div>
            `).join('')}
        </div>
    ` : '';

    return `
        <div class="comment" data-comment-id="${comment.id}">
            <div class="comment-header">
                <div class="avatar">${comment.avatar}</div>
                <div>
                    <h5>${comment.user}</h5>
                    <p class="comment-time">${comment.time}</p>
                </div>
            </div>
            <p>${comment.content}</p>
            <div class="comment-actions">
                <button class="comment-action-btn like-btn" data-liked="false">
                    <span class="icon">❤️</span> 
                    <span class="count">${comment.likes}</span>
                </button>
                <button class="comment-action-btn reply-btn">Reply</button>
            </div>
            ${repliesHTML}
        </div>
    `;
}

function attachModalEventListeners(modalPostContent, commentsList) {
    // Modal like buttons
    modalPostContent.querySelectorAll('.like-btn').forEach(btn => {
        btn.addEventListener('click', () => toggleLike(btn));
    });

    // Comment like buttons
    commentsList.querySelectorAll('.like-btn').forEach(btn => {
        btn.addEventListener('click', () => toggleLike(btn));
    });

    // Reply buttons
    commentsList.querySelectorAll('.reply-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            const comment = btn.closest('.comment');
            const commentId = comment.dataset.commentId;
            showReplyInput(comment, commentId);
        });
    });
}

function showReplyInput(comment, commentId) {
    // Remove existing reply input if any
    const existingInput = comment.querySelector('.reply-input');
    if (existingInput) {
        existingInput.remove();
        return;
    }

    const replyInput = document.createElement('div');
    replyInput.className = 'comment-input-container reply-input';
    replyInput.innerHTML = `
        <textarea class="comment-input" placeholder="Reply to comment..."></textarea>
        <button class="btn comment-submit" onclick="submitReply(${commentId})">Reply</button>
    `;
    comment.appendChild(replyInput);
}

function closePostModal() {
    const modal = document.getElementById('postModal');
    if (modal) {
        modal.style.display = 'none';
    }
}

function submitComment() {
    const commentInput = document.querySelector('.comment-input');
    const commentText = commentInput?.value.trim();
    
    if (!commentText || !commentInput) return;
    
    const commentsList = document.getElementById('commentsList');
    if (!commentsList) return;
    
    const newComment = {
        id: Date.now(),
        user: '@CurrentUser',
        avatar: 'U',
        time: 'Just now',
        content: commentText,
        likes: 0,
        replies: []
    };
    
    const newCommentHTML = `
        <div class="comment" data-comment-id="${newComment.id}">
            <div class="comment-header">
                <div class="avatar">${newComment.avatar}</div>
                <div>
                    <h5>${newComment.user}</h5>
                    <p class="comment-time">${newComment.time}</p>
                </div>
            </div>
            <p>${newComment.content}</p>
            <div class="comment-actions">
                <button class="comment-action-btn like-btn" data-liked="false">
                    <span class="icon">❤️</span> 
                    <span class="count">0</span>
                </button>
                <button class="comment-action-btn reply-btn">Reply</button>
            </div>
        </div>
    `;
    
    commentsList.insertAdjacentHTML('beforeend', newCommentHTML);
    commentInput.value = '';
    
    // Reattach event listeners for new comment
    const newCommentElement = commentsList.lastElementChild;
    attachCommentEventListeners(newCommentElement);
}

function submitReply(commentId) {
    const comment = document.querySelector(`.comment[data-comment-id="${commentId}"]`);
    const replyInput = comment?.querySelector('.reply-input .comment-input');
    const replyText = replyInput?.value.trim();
    
    if (!replyText || !comment || !replyInput) return;
    
    let repliesContainer = comment.querySelector('.replies');
    if (!repliesContainer) {
        repliesContainer = document.createElement('div');
        repliesContainer.className = 'replies';
        comment.appendChild(repliesContainer);
    }
    
    const newReply = {
        id: Date.now(),
        user: '@CurrentUser',
        avatar: 'U',
        time: 'Just now',
        content: replyText,
        likes: 0
    };
    
    const newReplyHTML = `
        <div class="comment reply" data-reply-id="${newReply.id}">
            <div class="comment-header">
                <div class="avatar">${newReply.avatar}</div>
                <div>
                    <h5>${newReply.user}</h5>
                    <p class="comment-time">${newReply.time}</p>
                </div>
            </div>
            <p>${newReply.content}</p>
            <div class="comment-actions">
                <button class="comment-action-btn like-btn" data-liked="false">
                    <span class="icon">❤️</span> 
                    <span class="count">0</span>
                </button>
            </div>
        </div>
    `;
    
    repliesContainer.insertAdjacentHTML('beforeend', newReplyHTML);
    replyInput.value = '';
    comment.querySelector('.reply-input')?.remove();
    
    // Reattach event listeners for new reply
    const newReplyElement = repliesContainer.lastElementChild;
    attachReplyEventListeners(newReplyElement);
}

function attachCommentEventListeners(commentElement) {
    const likeBtn = commentElement.querySelector('.like-btn');
    const replyBtn = commentElement.querySelector('.reply-btn');
    
    if (likeBtn) {
        likeBtn.addEventListener('click', () => toggleLike(likeBtn));
    }
    
    if (replyBtn) {
        replyBtn.addEventListener('click', () => {
            const commentId = commentElement.dataset.commentId;
            showReplyInput(commentElement, commentId);
        });
    }
}

function attachReplyEventListeners(replyElement) {
    const likeBtn = replyElement.querySelector('.like-btn');
    
    if (likeBtn) {
        likeBtn.addEventListener('click', () => toggleLike(likeBtn));
    }
}

// ========================================
// RESPONSIVE DESIGN HANDLERS
// ========================================

function handleResize() {
    const socialLayout = document.querySelector('.social-layout');
    const trending = document.getElementById('trendingDesktop');
    
    if (window.innerWidth <= 1200) {
        if (socialLayout) {
            socialLayout.style.gridTemplateColumns = '1fr';
        }
        if (trending) {
            trending.style.display = 'none';
        }
    } else if (currentSection === 'social') {
        if (socialLayout) {
            socialLayout.style.gridTemplateColumns = '2fr 1fr';
        }
        if (trending) {
            trending.style.display = 'block';
        }
    }
}

// ========================================
// ANIMATION & VISUAL EFFECTS
// ========================================

function initializeAnimations() {
    // Pulse animation for stat cards every 10 seconds
    setInterval(() => {
        const stats = document.querySelectorAll('.stat-card');
        stats.forEach((card, index) => {
            setTimeout(() => {
                card.style.animation = 'pulse 0.6s ease';
                setTimeout(() => {
                    card.style.animation = '';
                }, 600);
            }, index * 200);
        });
    }, 10000);

    // Update member counts every 30 seconds
    setInterval(() => {
        const memberCounts = document.querySelectorAll('.community-members');
        memberCounts.forEach(count => {
            const current = parseInt(count.textContent.replace(/[^\d]/g, ''));
            const newCount = current + Math.floor(Math.random() * 5);
            count.textContent = `${newCount.toLocaleString()} members`;
        });
    }, 30000);
}

// ========================================
// EVENT LISTENERS SETUP
// ========================================

function setupEventListeners() {
    // Window resize handler
    window.addEventListener('resize', handleResize);
    
    // Keyboard event handlers
    const messageInput = document.getElementById('messageInput');
    if (messageInput) {
        messageInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
    }
    
    const communityInput = document.getElementById('communityInput');
    if (communityInput) {
        communityInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendCommunityMessage();
            }
        });
    }
}

// ========================================
// INITIALIZATION FUNCTIONS
// ========================================

function initializeApp() {
    console.log('Initializing Kadena Dashboard...');
    
    // Initialize market data
    initializeMarketData();
    
    // Handle responsive design
    handleResize();
    
    // Setup all event listeners
    setupEventListeners();
    
    // Start animations
    initializeAnimations();
    
    console.log('Dashboard initialized successfully');
}

function startDataUpdates() {
    console.log('Starting data updates...');
    
    // Start all update intervals
    simulateDataUpdates();
    
    console.log('Data updates started');
}

// ========================================
// DOM READY INITIALIZATION
// ========================================

document.addEventListener('DOMContentLoaded', function() {
    console.log('DOM loaded, initializing components...');
    
    // Initialize basic app functionality
    initializeApp();
    
    // Initialize social section
    initializeSocialSection();
    
    // Initialize charts after a short delay to ensure DOM is fully ready
    setTimeout(() => {
        console.log('Initializing charts...');
        initCharts();
        startDataUpdates();
    }, 100);
    
    console.log('All components initialized');
});


function initializeAnimations() {
  // Pulse animation for stat cards every 10 seconds
  setInterval(() => {
    const stats = document.querySelectorAll('.stat-card');
    stats.forEach((card, index) => {
      setTimeout(() => {
        card.style.animation = 'pulse 0.6s ease';
        setTimeout(() => {
          card.style.animation = '';
        }, 600);
      }, index * 200);
    });
  }, 10000);

  // Update member counts every 30 seconds
  setInterval(() => {
    const memberCounts = document.querySelectorAll('.community-members');
    memberCounts.forEach(count => {
      const current = parseInt(count.textContent.replace(/[^\d]/g, ''));
      const newCount = current + Math.floor(Math.random() * 5);
      count.textContent = `${newCount.toLocaleString()} members`;
    });
  }, 30000);

  // Trigger entrance animation for visible elements on mobile
  if (window.innerWidth <= 768) {
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.style.animation = 'slideIn 0.5s ease forwards';
            observer.unobserve(entry.target);
          }
        });
      },
      { threshold: 0.1 }
    );

    document.querySelectorAll('.stat-card, .wallet-card, .post, .community-card').forEach(el => {
      observer.observe(el);
    });
  }
}

// Toggle Sidebar and Overlay
function toggleSidebar() {
  const sidebar = document.getElementById('sidebar');
  const mainContent = document.getElementById('mainContent');
  const overlay = document.getElementById('sidebarOverlay');

  sidebar.classList.toggle('active');
  mainContent.classList.toggle('sidebar-active');
  if (overlay) {
    overlay.classList.toggle('active');
  }
}

// Updated setupEventListeners to Handle Overlay Click
function setupEventListeners() {
  // Existing event listeners (e.g., for nav links, wallet tabs, etc.) should remain
  // Add this block to ensure overlay click closes sidebar
  const overlay = document.getElementById('sidebarOverlay');
  if (overlay) {
    overlay.addEventListener('click', (e) => {
      if (e.target === overlay) { // Only trigger when clicking the overlay, not the close button
        toggleSidebar();
      }
    });
  }

  // Existing resize handler
  window.addEventListener('resize', handleResize);

  // Add any other existing event listeners here (e.g., for nav links, tabs, etc.)
}

function showSection(sectionId) {
  // Hide all sections
  document.querySelectorAll('.section').forEach(section => {
    section.classList.remove('active');
  });
  
  // Show selected section
  document.getElementById(sectionId).classList.add('active');
  
  // Update navigation
  document.querySelectorAll('.nav-link').forEach(link => {
    link.classList.remove('active');
  });
  event.target.classList.add('active');
  
  currentSection = sectionId;
  
  // Close sidebar and overlay on mobile when selecting a section
  if (window.innerWidth <= 768) {
    toggleSidebar();
  }
  
  // Handle responsive design for social section
  if (sectionId === 'social') {
    const trending = document.getElementById('trendingDesktop');
    if (window.innerWidth > 1200) {
      trending.style.display = 'block';
      document.querySelector('.social-layout').style.gridTemplateColumns = '2fr 1fr';
    }
  }
}

function initializeAnimations() {
  setInterval(() => {
    const stats = document.querySelectorAll('.stat-card');
    stats.forEach((card, index) => {
      setTimeout(() => {
        card.style.animation = 'pulse 0.6s ease';
        setTimeout(() => {
          card.style.animation = '';
        }, 600);
      }, index * 200);
    });
  }, 10000);
  setInterval(() => {
    const memberCounts = document.querySelectorAll('.community-members');
    memberCounts.forEach(count => {
      const current = parseInt(count.textContent.replace(/[^\d]/g, ''));
      const newCount = current + Math.floor(Math.random() * 5);
      count.textContent = `${newCount.toLocaleString()} members`;
    });
  }, 30000);
  if (window.innerWidth <= 768) {
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.style.animation = 'slideIn 0.5s ease forwards';
            observer.unobserve(entry.target);
          }
        });
      },
      { threshold: 0.1 }
    );
    document.querySelectorAll('.stat-card, .wallet-card, .post, .community-card, .p2p-offer').forEach(el => {
      observer.observe(el);
    });
  }
}
  </script>
  <script src="kan-community.js"></script>
  <script src="kan-wallet.js"></script>
  <script src="kan-finance.js"></script>
</body>
</html>
















